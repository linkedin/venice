#####################################################
######################### VENICE ####################
#####################################################

Welcome to Venice, the highly available data serving platform.

---------------------
Dependencies
---------------------

To use Venice, the following programs must be installed and running on your local machine:
- Apache Kafka Version 0.10.0
- Apache Zookeeper 3.4.6
- Apache Helix 0.6.5

1) Start Apache Zookeeper on the local machine. The installation will have guides on how to do this.
2) Start Apache Kafka on the local machine.
3) Start and use Venice.  Note: Start the Venice Controller, then start the Venice Server

-----------------------
Build
-----------------------

First, ensure that each project has been built. If not, please run: (from the project root directory)

To build and install ALL PROJECTS:
> ./gradlew buildAll

If the above does not work, you may resort to building each component seperately.

To build and install Venice server:
> ./gradlew :venice-server:clean :venice-server:installApp

----------------------
Quickstart
----------------------

To start ZK:

> ./quickstart/zookeeper-server.sh

To start Kafka:

> TODO, we'll add an easy script here.

To start the controller:

> ./quickstart/start-venice-controller.sh

To start the server:

> ./quickstart/start-venice-server.sh

To start the router:

> ./quickstart/start-venice-router.sh

----------------------
Interact with Venice
----------------------

There are two ways to read data out of Venice.

1) Venice is usable through its Java Client API.
2) Venice can be queried from the router using curl

To add test stores (not necessary if you're going to run H2V):

> curl --data "storename=default_store&store_size=10000&owner=venice-dev" 127.0.0.1:7075/create
> curl --data "storename=test_shell_store&store_size=1000&owner=venice-dev" 127.0.0.1:7075/create

To query over https use the curl-ssh.sh wrapper script to specify key and certificate

> ./curl-ssh.sh https://localhost:54334/master_controller

or supply the certificate and key in venice-common/src/main/resources directly

> curl -i --cacert venice-common/src/main/resources/localhost.cert \
          --cert venice-common/src/main/resources/localhost.cert \
          --key venice-common/src/main/resources/localhost.key \
          https://localhost:54334/master_controller

To query a job status:

> curl "127.0.0.1:7075/job?storename=test_shell_store&version=1"

-----------------------
Questions?
-----------------------
Venice Engineering Team - venice-eng@linkedin.com

