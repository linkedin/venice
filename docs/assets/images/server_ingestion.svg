<?xml version="1.0" encoding="us-ascii" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1345.7267px" preserveAspectRatio="none" style="width:3841px;height:1345px;background:#FFFFFF;" version="1.1" viewBox="0 0 3841 1345" width="3841.114px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="1303.812" style="stroke:#181818;stroke-width:1.114012184508268;" width="394.3603" x="2.228" y="13.3681"/><text fill="#000000" font-family="sans-serif" font-size="28.9643" font-weight="bold" lengthAdjust="spacing" textLength="345.3438" x="26.7363" y="41.3708">HelixParticipantService</text><text fill="#000000" font-family="sans-serif" font-size="28.9643" font-weight="bold" lengthAdjust="spacing" textLength="380.9922" x="8.9121" y="75.483">(a dedicated thread pool)</text><rect fill="#FFFFFF" height="1303.812" style="stroke:#181818;stroke-width:1.114012184508268;" width="463.4291" x="647.2411" y="13.3681"/><text fill="#000000" font-family="sans-serif" font-size="28.9643" font-weight="bold" lengthAdjust="spacing" textLength="267.3629" x="745.2742" y="41.3708">IngestionBackend</text><rect fill="#FFFFFF" height="1303.812" style="stroke:#181818;stroke-width:1.114012184508268;" width="394.3603" x="1115.1262" y="13.3681"/><text fill="#000000" font-family="sans-serif" font-size="28.9643" font-weight="bold" lengthAdjust="spacing" textLength="229.4865" x="1184.195" y="41.3708">A group of SITs</text><text fill="#000000" font-family="sans-serif" font-size="28.9643" font-weight="bold" lengthAdjust="spacing" textLength="380.9922" x="1121.8103" y="75.483">(a dedicated thread pool)</text><rect fill="#FFFFFF" height="1303.812" style="stroke:#181818;stroke-width:1.114012184508268;" width="436.6928" x="2693.6815" y="13.3681"/><text fill="#000000" font-family="sans-serif" font-size="28.9643" font-weight="bold" lengthAdjust="spacing" textLength="345.3438" x="2739.356" y="41.3708">KafkaConsumerService</text><text fill="#000000" font-family="sans-serif" font-size="28.9643" font-weight="bold" lengthAdjust="spacing" textLength="380.9922" x="2721.5318" y="75.483">(a dedicated thread pool)</text><rect fill="#FFFFFF" height="1303.812" style="stroke:#181818;stroke-width:1.114012184508268;" width="394.3603" x="3196.101" y="13.3681"/><text fill="#000000" font-family="sans-serif" font-size="28.9643" font-weight="bold" lengthAdjust="spacing" textLength="274.047" x="3256.2576" y="41.3708">StoreBufferService</text><text fill="#000000" font-family="sans-serif" font-size="28.9643" font-weight="bold" lengthAdjust="spacing" textLength="380.9922" x="3202.785" y="75.483">(a dedicated thread pool)</text><line style="stroke:#181818;stroke-width:1.114012184508268;stroke-dasharray:5.0,5.0;" x1="198.2942" x2="198.2942" y1="169.5735" y2="1171.2707"/><line style="stroke:#181818;stroke-width:1.114012184508268;stroke-dasharray:5.0,5.0;" x1="878.9556" x2="878.9556" y1="169.5735" y2="1171.2707"/><line style="stroke:#181818;stroke-width:1.114012184508268;stroke-dasharray:5.0,5.0;" x1="1311.1923" x2="1311.1923" y1="169.5735" y2="1171.2707"/><line style="stroke:#181818;stroke-width:1.114012184508268;stroke-dasharray:5.0,5.0;" x1="1999.6519" x2="1999.6519" y1="169.5735" y2="1171.2707"/><line style="stroke:#181818;stroke-width:1.114012184508268;stroke-dasharray:5.0,5.0;" x1="2407.3803" x2="2407.3803" y1="169.5735" y2="1171.2707"/><line style="stroke:#181818;stroke-width:1.114012184508268;stroke-dasharray:5.0,5.0;" x1="2912.0279" x2="2912.0279" y1="169.5735" y2="1171.2707"/><line style="stroke:#181818;stroke-width:1.114012184508268;stroke-dasharray:5.0,5.0;" x1="3392.1671" x2="3392.1671" y1="169.5735" y2="1171.2707"/><line style="stroke:#181818;stroke-width:1.114012184508268;stroke-dasharray:5.0,5.0;" x1="3721.9147" x2="3721.9147" y1="169.5735" y2="1171.2707"/><rect fill="#E2E2F0" height="67.9286" rx="5.5701" ry="5.5701" style="stroke:#181818;stroke-width:1.114012184508268;" width="109.1732" x="144.8216" y="99.4169"/><text fill="#000000" font-family="sans-serif" font-size="31.1923" lengthAdjust="spacing" textLength="77.9809" x="160.4178" y="145.1697">Helix</text><rect fill="#E2E2F0" height="67.9286" rx="5.5701" ry="5.5701" style="stroke:#181818;stroke-width:1.114012184508268;" width="109.1732" x="144.8216" y="1169.0426"/><text fill="#000000" font-family="sans-serif" font-size="31.1923" lengthAdjust="spacing" textLength="77.9809" x="160.4178" y="1214.7955">Helix</text><rect fill="#E2E2F0" height="67.9286" rx="5.5701" ry="5.5701" style="stroke:#181818;stroke-width:1.114012184508268;" width="445.6049" x="656.1532" y="99.4169"/><text fill="#000000" font-family="sans-serif" font-size="31.1923" lengthAdjust="spacing" textLength="414.4125" x="671.7493" y="145.1697">KafkaStoreIngestionService</text><rect fill="#E2E2F0" height="67.9286" rx="5.5701" ry="5.5701" style="stroke:#181818;stroke-width:1.114012184508268;" width="445.6049" x="656.1532" y="1169.0426"/><text fill="#000000" font-family="sans-serif" font-size="31.1923" lengthAdjust="spacing" textLength="414.4125" x="671.7493" y="1214.7955">KafkaStoreIngestionService</text><rect fill="#E2E2F0" height="67.9286" style="stroke:#181818;stroke-width:1.114012184508268;" width="340.8877" x="1146.3185" y="90.5048"/><rect fill="#E2E2F0" height="67.9286" style="stroke:#181818;stroke-width:1.114012184508268;" width="340.8877" x="1137.4064" y="99.4169"/><text fill="#000000" font-family="sans-serif" font-size="31.1923" lengthAdjust="spacing" textLength="309.6954" x="1153.0026" y="145.1697">StoreIngestionTasks</text><rect fill="#E2E2F0" height="67.9286" style="stroke:#181818;stroke-width:1.114012184508268;" width="340.8877" x="1146.3185" y="1169.0426"/><rect fill="#E2E2F0" height="67.9286" style="stroke:#181818;stroke-width:1.114012184508268;" width="340.8877" x="1137.4064" y="1177.9547"/><text fill="#000000" font-family="sans-serif" font-size="31.1923" lengthAdjust="spacing" textLength="309.6954" x="1153.0026" y="1223.7076">StoreIngestionTasks</text><path d="M1843.6902,110.557 L2157.8416,110.557 C2168.9817,110.557 2168.9817,140.0653 2168.9817,140.0653 C2168.9817,140.0653 2168.9817,169.5735 2157.8416,169.5735 L1843.6902,169.5735 C1832.55,169.5735 1832.55,140.0653 1832.55,140.0653 C1832.55,140.0653 1832.55,110.557 1843.6902,110.557 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.114012184508268;"/><path d="M2157.8416,110.557 C2146.7015,110.557 2146.7015,140.0653 2146.7015,140.0653 C2146.7015,169.5735 2157.8416,169.5735 2157.8416,169.5735 " fill="none" style="stroke:#181818;stroke-width:1.114012184508268;"/><text fill="#000000" font-family="sans-serif" font-size="31.1923" lengthAdjust="spacing" textLength="291.8712" x="1843.6902" y="151.8538">Source Kafka Topic</text><path d="M1843.6902,1169.0426 L2157.8416,1169.0426 C2168.9817,1169.0426 2168.9817,1198.5509 2168.9817,1198.5509 C2168.9817,1198.5509 2168.9817,1228.0592 2157.8416,1228.0592 L1843.6902,1228.0592 C1832.55,1228.0592 1832.55,1198.5509 1832.55,1198.5509 C1832.55,1198.5509 1832.55,1169.0426 1843.6902,1169.0426 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.114012184508268;"/><path d="M2157.8416,1169.0426 C2146.7015,1169.0426 2146.7015,1198.5509 2146.7015,1198.5509 C2146.7015,1228.0592 2157.8416,1228.0592 2157.8416,1228.0592 " fill="none" style="stroke:#181818;stroke-width:1.114012184508268;"/><text fill="#000000" font-family="sans-serif" font-size="31.1923" lengthAdjust="spacing" textLength="291.8712" x="1843.6902" y="1210.3394">Source Kafka Topic</text><path d="M2202.4021,110.557 L2614.5866,110.557 C2625.7267,110.557 2625.7267,140.0653 2625.7267,140.0653 C2625.7267,140.0653 2625.7267,169.5735 2614.5866,169.5735 L2202.4021,169.5735 C2191.262,169.5735 2191.262,140.0653 2191.262,140.0653 C2191.262,140.0653 2191.262,110.557 2202.4021,110.557 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.114012184508268;"/><path d="M2614.5866,110.557 C2603.4465,110.557 2603.4465,140.0653 2603.4465,140.0653 C2603.4465,169.5735 2614.5866,169.5735 2614.5866,169.5735 " fill="none" style="stroke:#181818;stroke-width:1.114012184508268;"/><text fill="#000000" font-family="sans-serif" font-size="31.1923" lengthAdjust="spacing" textLength="389.9043" x="2202.4021" y="151.8538">Local Kafka Version Topic</text><path d="M2202.4021,1169.0426 L2614.5866,1169.0426 C2625.7267,1169.0426 2625.7267,1198.5509 2625.7267,1198.5509 C2625.7267,1198.5509 2625.7267,1228.0592 2614.5866,1228.0592 L2202.4021,1228.0592 C2191.262,1228.0592 2191.262,1198.5509 2191.262,1198.5509 C2191.262,1198.5509 2191.262,1169.0426 2202.4021,1169.0426 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.114012184508268;"/><path d="M2614.5866,1169.0426 C2603.4465,1169.0426 2603.4465,1198.5509 2603.4465,1198.5509 C2603.4465,1228.0592 2614.5866,1228.0592 2614.5866,1228.0592 " fill="none" style="stroke:#181818;stroke-width:1.114012184508268;"/><text fill="#000000" font-family="sans-serif" font-size="31.1923" lengthAdjust="spacing" textLength="389.9043" x="2202.4021" y="1210.3394">Local Kafka Version Topic</text><rect fill="#E2E2F0" height="67.9286" style="stroke:#181818;stroke-width:1.114012184508268;" width="409.9565" x="2711.5057" y="90.5048"/><rect fill="#E2E2F0" height="67.9286" style="stroke:#181818;stroke-width:1.114012184508268;" width="409.9565" x="2702.5936" y="99.4169"/><text fill="#000000" font-family="sans-serif" font-size="31.1923" lengthAdjust="spacing" textLength="378.7641" x="2718.1897" y="145.1697">KafkaConsumptionTasks</text><rect fill="#E2E2F0" height="67.9286" style="stroke:#181818;stroke-width:1.114012184508268;" width="409.9565" x="2711.5057" y="1169.0426"/><rect fill="#E2E2F0" height="67.9286" style="stroke:#181818;stroke-width:1.114012184508268;" width="409.9565" x="2702.5936" y="1177.9547"/><text fill="#000000" font-family="sans-serif" font-size="31.1923" lengthAdjust="spacing" textLength="378.7641" x="2718.1897" y="1223.7076">KafkaConsumptionTasks</text><rect fill="#E2E2F0" height="67.9286" style="stroke:#181818;stroke-width:1.114012184508268;" width="331.9756" x="3231.7493" y="90.5048"/><rect fill="#E2E2F0" height="67.9286" style="stroke:#181818;stroke-width:1.114012184508268;" width="331.9756" x="3222.8372" y="99.4169"/><text fill="#000000" font-family="sans-serif" font-size="31.1923" lengthAdjust="spacing" textLength="300.7833" x="3238.4334" y="145.1697">StoreBufferDrainers</text><rect fill="#E2E2F0" height="67.9286" style="stroke:#181818;stroke-width:1.114012184508268;" width="331.9756" x="3231.7493" y="1169.0426"/><rect fill="#E2E2F0" height="67.9286" style="stroke:#181818;stroke-width:1.114012184508268;" width="331.9756" x="3222.8372" y="1177.9547"/><text fill="#000000" font-family="sans-serif" font-size="31.1923" lengthAdjust="spacing" textLength="300.7833" x="3238.4334" y="1223.7076">StoreBufferDrainers</text><text fill="#000000" font-family="sans-serif" font-size="31.1923" lengthAdjust="spacing" textLength="222.8024" x="3603.8294" y="162.9939">StorageEngine</text><path d="M3681.8103,52.6284 C3681.8103,30.3481 3721.9147,30.3481 3721.9147,30.3481 C3721.9147,30.3481 3762.0191,30.3481 3762.0191,52.6284 L3762.0191,110.557 C3762.0191,132.8372 3721.9147,132.8372 3721.9147,132.8372 C3721.9147,132.8372 3681.8103,132.8372 3681.8103,110.557 L3681.8103,52.6284 " fill="#E2E2F0" style="stroke:#181818;stroke-width:3.342036553524804;"/><path d="M3681.8103,52.6284 C3681.8103,74.9086 3721.9147,74.9086 3721.9147,74.9086 C3721.9147,74.9086 3762.0191,74.9086 3762.0191,52.6284 " fill="none" style="stroke:#181818;stroke-width:3.342036553524804;"/><text fill="#000000" font-family="sans-serif" font-size="31.1923" lengthAdjust="spacing" textLength="222.8024" x="3603.8294" y="1199.1993">StorageEngine</text><path d="M3681.8103,1228.0592 C3681.8103,1205.7789 3721.9147,1205.7789 3721.9147,1205.7789 C3721.9147,1205.7789 3762.0191,1205.7789 3762.0191,1228.0592 L3762.0191,1285.9878 C3762.0191,1308.2681 3721.9147,1308.2681 3721.9147,1308.2681 C3721.9147,1308.2681 3681.8103,1308.2681 3681.8103,1285.9878 L3681.8103,1228.0592 " fill="#E2E2F0" style="stroke:#181818;stroke-width:3.342036553524804;"/><path d="M3681.8103,1228.0592 C3681.8103,1250.3394 3721.9147,1250.3394 3721.9147,1250.3394 C3721.9147,1250.3394 3762.0191,1250.3394 3762.0191,1228.0592 " fill="none" style="stroke:#181818;stroke-width:3.342036553524804;"/><polygon fill="#181818" points="852.2193,264.5344,874.4996,273.4465,852.2193,282.3586,861.1314,273.4465" style="stroke:#181818;stroke-width:2.228024369016536;"/><line style="stroke:#181818;stroke-width:2.228024369016536;" x1="199.4082" x2="865.5875" y1="273.4465" y2="273.4465"/><text fill="#000000" font-family="sans-serif" font-size="28.9643" lengthAdjust="spacing" textLength="311.9234" x="215.0044" y="228.7685">Issue state transitions</text><text fill="#000000" font-family="sans-serif" font-size="28.9643" lengthAdjust="spacing" textLength="492.3934" x="215.0044" y="262.8808">according to partition assignments</text><polygon fill="#181818" points="1285.5701,363.9513,1307.8503,372.8634,1285.5701,381.7755,1294.4822,372.8634" style="stroke:#181818;stroke-width:2.228024369016536;"/><line style="stroke:#181818;stroke-width:2.228024369016536;" x1="878.9556" x2="1298.9382" y1="372.8634" y2="372.8634"/><text fill="#000000" font-family="sans-serif" font-size="28.9643" lengthAdjust="spacing" textLength="291.8712" x="894.5518" y="328.1854">Manage lifecycle and</text><text fill="#000000" font-family="sans-serif" font-size="28.9643" lengthAdjust="spacing" textLength="345.3438" x="894.5518" y="362.2977">send commands for SITs</text><polygon fill="#FF0000" points="1974.0296,531.5927,1996.3098,540.5048,1974.0296,549.4169,1982.9417,540.5048" style="stroke:#FF0000;stroke-width:2.228024369016536;"/><line style="stroke:#FF0000;stroke-width:2.228024369016536;" x1="1312.3064" x2="1987.3977" y1="540.5048" y2="540.5048"/><text fill="#000000" font-family="sans-serif" font-size="28.9643" lengthAdjust="spacing" textLength="289.6432" x="1327.9025" y="427.6023">Leaders subscribe to</text><text fill="#000000" font-family="sans-serif" font-size="28.9643" lengthAdjust="spacing" textLength="276.275" x="1327.9025" y="461.7145">source kafka topics</text><text fill="#000000" font-family="sans-serif" font-size="28.9643" lengthAdjust="spacing" textLength="612.7067" x="1327.9025" y="495.8268">(a remote Version Topic or Real-time Topic)</text><text fill="#000000" font-family="sans-serif" font-size="28.9643" lengthAdjust="spacing" textLength="369.852" x="1327.9025" y="529.9391">when consuming remotely</text><polygon fill="#FF0000" points="2885.2916,596.8973,2907.5718,605.8094,2885.2916,614.7215,2894.2037,605.8094" style="stroke:#FF0000;stroke-width:2.228024369016536;"/><line style="stroke:#FF0000;stroke-width:2.228024369016536;" x1="2000.7659" x2="2898.6597" y1="605.8094" y2="605.8094"/><text fill="#000000" font-family="sans-serif" font-size="28.9643" lengthAdjust="spacing" textLength="298.5553" x="2016.3621" y="595.2437">Pull msgs from kafka</text><polygon fill="#FF0000" points="2433.0026,696.3142,2410.7224,705.2263,2433.0026,714.1384,2424.0905,705.2263" style="stroke:#FF0000;stroke-width:2.228024369016536;"/><line style="stroke:#FF0000;stroke-width:2.228024369016536;" x1="2419.6345" x2="2909.7998" y1="705.2263" y2="705.2263"/><text fill="#000000" font-family="sans-serif" font-size="28.9643" lengthAdjust="spacing" textLength="354.2559" x="2446.3708" y="660.5483">Produce msgs to local VT</text><text fill="#000000" font-family="sans-serif" font-size="28.9643" lengthAdjust="spacing" textLength="450.0609" x="2446.3708" y="694.6606">when leader consumes remotely</text><polygon fill="#FF0000" points="3366.5448,795.7311,3388.8251,804.6432,3366.5448,813.5553,3375.4569,804.6432" style="stroke:#FF0000;stroke-width:2.228024369016536;"/><line style="stroke:#FF0000;stroke-width:2.228024369016536;" x1="2408.4943" x2="3379.913" y1="804.6432" y2="804.6432"/><text fill="#000000" font-family="sans-serif" font-size="28.9643" lengthAdjust="spacing" textLength="298.5553" x="2424.0905" y="759.9652">Msgs Acked by Kafka</text><text fill="#000000" font-family="sans-serif" font-size="28.9643" lengthAdjust="spacing" textLength="519.1297" x="2424.0905" y="794.0775">then records queued up into drainers</text><polygon fill="#008000" points="2381.7581,861.0357,2404.0383,869.9478,2381.7581,878.8599,2390.6701,869.9478" style="stroke:#008000;stroke-width:2.228024369016536;"/><line style="stroke:#008000;stroke-width:2.228024369016536;" x1="1312.3064" x2="2395.1262" y1="869.9478" y2="869.9478"/><text fill="#000000" font-family="sans-serif" font-size="28.9643" lengthAdjust="spacing" textLength="436.6928" x="1327.9025" y="859.3821">Followers subscribe to local VT</text><polygon fill="#008000" points="2885.2916,926.3403,2907.5718,935.2524,2885.2916,944.1645,2894.2037,935.2524" style="stroke:#008000;stroke-width:2.228024369016536;"/><line style="stroke:#008000;stroke-width:2.228024369016536;" x1="2408.4943" x2="2898.6597" y1="935.2524" y2="935.2524"/><text fill="#000000" font-family="sans-serif" font-size="28.9643" lengthAdjust="spacing" textLength="298.5553" x="2424.0905" y="924.6867">Pull msgs from kafka</text><polygon fill="#008000" points="3366.5448,991.6449,3388.8251,1000.557,3366.5448,1009.4691,3375.4569,1000.557" style="stroke:#008000;stroke-width:2.228024369016536;"/><line style="stroke:#008000;stroke-width:2.228024369016536;" x1="2912.0279" x2="3379.913" y1="1000.557" y2="1000.557"/><text fill="#000000" font-family="sans-serif" font-size="28.9643" lengthAdjust="spacing" textLength="409.9565" x="2927.624" y="989.9913">Records queued into drainers</text><polygon fill="#181818" points="1336.8146,1056.9495,1314.5344,1065.8616,1336.8146,1074.7737,1327.9025,1065.8616" style="stroke:#181818;stroke-width:2.228024369016536;"/><line style="stroke:#181818;stroke-width:2.228024369016536;" x1="1323.4465" x2="3391.0531" y1="1065.8616" y2="1065.8616"/><text fill="#000000" font-family="sans-serif" font-size="28.9643" lengthAdjust="spacing" textLength="868.9295" x="1350.1828" y="1055.2959">Dequeue the records and invoke methods from SITs to persist</text><polygon fill="#181818" points="3695.1784,1122.2541,3717.4587,1131.1662,3695.1784,1140.0783,3704.0905,1131.1662" style="stroke:#181818;stroke-width:2.228024369016536;"/><line style="stroke:#181818;stroke-width:2.228024369016536;" x1="1312.3064" x2="3708.5466" y1="1131.1662" y2="1131.1662"/><text fill="#000000" font-family="sans-serif" font-size="28.9643" lengthAdjust="spacing" textLength="487.9373" x="1327.9025" y="1120.6005">Persist records into storage engine</text><!--SRC=[dLJBRjim4BphAnRs8Ks10Ea3HQ53W2HkKIC9OCI2UwXxeCYLH5WYLPBAu- -xIygl840VFXYsE9oPtPtL2KodKvYXbqxtGLkJdK3HQ0zAYzg93bGyAj53OnyXD0W-M8UWJOsUBq0GVWDqGpeK0HK8euY4lWzkY31uyBeseerGQ_pG4RPy1ai8Hq-wtXeqmMUPbw95-F3vu_dRz-y-dMTPQPzW0l0DM_sq42vegNjXmXBTWvQuDcy4sLHQHldGa0y5lRNjwGIctniTCEltjn8D22g8VsH8HaaWYSotLLq9kQ6JoIltRqIr4KjkmWuzEc7Ic_doc1BIvn9gPuSUR0NBUU7_nhIqROkI-JqSwnNKSizgJBMJ-pNWW31Psi6HbsWJ2jjhEM6emyuIwGYwjTJa4RD2vtcGU-ogs7gFYEiqBlSF3J_qVaZI7zc_kIvUxLQizcgegl_NFA2OEQ4DrHWRTZNRAoeHH2ayzupGeiOlfYPaR84giom61CukUAZvtFiXHHaXE66yJafh8wIqJj52GB0GanBtGdWEV1SpJGJCm-FAxuGXAMXrXV9PKj9vLTR6iojQWux-UgYiIyFDQ9Ucq5Arj2KbDk91MvVn4Ppzc3fKFo_6qUQt4KHxDfHfPzaF4QSyREAi0y-OJLCxqxNZyGFftgDepuBkC3qw9VHZWsRSMguptMoViv5YvuG7cY-6jeNErrI5irqIplXaZriL-S9PDP2l22IZRKpagjYgZIMFhmg_roJ8ZeV7cTynmoNjQtoVf4olJM0IXpmQ3p7r2cZ_j24jDIOYDRUYtDZ7rzfREqIJx7uTGI_QktKzkjfU-7CVjiXOmVsnpHSU6R9BpmpJ1lDxTLiT1qYR1xkXRc9eh1eLOncSIPwm3sDP5vJjV94UxIYYf4zR01ZN8FiD]--></g></svg>