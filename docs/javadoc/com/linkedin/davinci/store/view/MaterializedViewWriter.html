<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) -->
<title>MaterializedViewWriter (venice API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="declaration: package: com.linkedin.davinci.store.view, class: MaterializedViewWriter">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li><a href="#nested-class-summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field-summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">com.linkedin.davinci.store.view</a></div>
<h1 title="Class MaterializedViewWriter" class="title">Class MaterializedViewWriter</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance"><a href="../../../venice/views/VeniceView.html" title="class in com.linkedin.venice.views">com.linkedin.venice.views.VeniceView</a>
<div class="inheritance"><a href="VeniceViewWriter.html" title="class in com.linkedin.davinci.store.view">com.linkedin.davinci.store.view.VeniceViewWriter</a>
<div class="inheritance">com.linkedin.davinci.store.view.MaterializedViewWriter</div>
</div>
</div>
</div>
<section class="class-description" id="class-description">
<hr>
<div class="type-signature"><span class="modifiers">public class </span><span class="element-name type-name-label">MaterializedViewWriter</span>
<span class="extends-implements">extends <a href="VeniceViewWriter.html" title="class in com.linkedin.davinci.store.view">VeniceViewWriter</a></span></div>
<div class="block">Materialized view writer is responsible for processing input records from the version topic and write them to the
 materialized view topic based on parameters defined in <a href="../../../venice/meta/MaterializedViewParameters.html" title="enum class in com.linkedin.venice.meta"><code>MaterializedViewParameters</code></a>.
 This writer has its own <a href="../../../venice/writer/VeniceWriter.html" title="class in com.linkedin.venice.writer"><code>VeniceWriter</code></a>.</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<li>
<section class="nested-class-summary" id="nested-class-summary">
<h2>Nested Class Summary</h2>
<div class="inherited-list">
<h2 id="nested-classes-inherited-from-class-com.linkedin.davinci.store.view.VeniceViewWriter">Nested classes/interfaces inherited from class&nbsp;com.linkedin.davinci.store.view.<a href="VeniceViewWriter.html" title="class in com.linkedin.davinci.store.view">VeniceViewWriter</a></h2>
<code><a href="VeniceViewWriter.ViewWriterType.html" title="enum class in com.linkedin.davinci.store.view">VeniceViewWriter.ViewWriterType</a></code></div>
</section>
</li>
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field-summary">
<h2>Field Summary</h2>
<div class="inherited-list">
<h3 id="fields-inherited-from-class-com.linkedin.davinci.store.view.VeniceViewWriter">Fields inherited from class&nbsp;com.linkedin.davinci.store.view.<a href="VeniceViewWriter.html" title="class in com.linkedin.davinci.store.view">VeniceViewWriter</a></h3>
<code><a href="VeniceViewWriter.html#isNearlineProducerCompressionEnabled">isNearlineProducerCompressionEnabled</a>, <a href="VeniceViewWriter.html#nearlineProducerCountPerWriter">nearlineProducerCountPerWriter</a>, <a href="VeniceViewWriter.html#veniceWriterFactory">veniceWriterFactory</a>, <a href="VeniceViewWriter.html#version">version</a>, <a href="VeniceViewWriter.html#versionNumber">versionNumber</a></code></div>
<div class="inherited-list">
<h3 id="fields-inherited-from-class-com.linkedin.venice.views.VeniceView">Fields inherited from class&nbsp;com.linkedin.venice.views.<a href="../../../venice/views/VeniceView.html" title="class in com.linkedin.venice.views">VeniceView</a></h3>
<code><a href="../../../venice/views/VeniceView.html#props">props</a>, <a href="../../../venice/views/VeniceView.html#storeName">storeName</a>, <a href="../../../venice/views/VeniceView.html#VIEW_NAME_SEPARATOR">VIEW_NAME_SEPARATOR</a>, <a href="../../../venice/views/VeniceView.html#VIEW_STORE_PREFIX">VIEW_STORE_PREFIX</a>, <a href="../../../venice/views/VeniceView.html#viewParameters">viewParameters</a></code></div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E(com.linkedin.davinci.config.VeniceConfigLoader,com.linkedin.venice.meta.Version,org.apache.avro.Schema,java.util.Map,com.linkedin.venice.writer.VeniceWriterFactory)" class="member-name-link">MaterializedViewWriter</a><wbr>(<a href="../../config/VeniceConfigLoader.html" title="class in com.linkedin.davinci.config">VeniceConfigLoader</a>&nbsp;props,
 <a href="../../../venice/meta/Version.html" title="interface in com.linkedin.venice.meta">Version</a>&nbsp;version,
 org.apache.avro.Schema&nbsp;keySchema,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&nbsp;extraViewParameters,
 <a href="../../../venice/writer/VeniceWriterFactory.html" title="class in com.linkedin.venice.writer">VeniceWriterFactory</a>&nbsp;veniceWriterFactory)</code></div>
<div class="col-last even-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel" aria-labelledby="method-summary-table-tab0">
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#close(boolean)" class="member-name-link">close</a><wbr>(boolean&nbsp;gracefulClose)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getViewName()" class="member-name-link">getViewName</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="VeniceViewWriter.ViewWriterType.html" title="enum class in com.linkedin.davinci.store.view">VeniceViewWriter.ViewWriterType</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getViewWriterType()" class="member-name-link">getViewWriterType</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getWriterClassName()" class="member-name-link">getWriterClassName</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Implementations should return the fully specified class name for the component VeniceViewWriter
 implementation.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isComplexVenicePartitioner()" class="member-name-link">isComplexVenicePartitioner</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#processControlMessage(com.linkedin.venice.message.KafkaKey,com.linkedin.venice.kafka.protocol.KafkaMessageEnvelope,com.linkedin.venice.kafka.protocol.ControlMessage,int,com.linkedin.davinci.kafka.consumer.PartitionConsumptionState)" class="member-name-link">processControlMessage</a><wbr>(<a href="../../../venice/message/KafkaKey.html" title="class in com.linkedin.venice.message">KafkaKey</a>&nbsp;kafkaKey,
 <a href="../../../venice/kafka/protocol/KafkaMessageEnvelope.html" title="class in com.linkedin.venice.kafka.protocol">KafkaMessageEnvelope</a>&nbsp;kafkaMessageEnvelope,
 <a href="../../../venice/kafka/protocol/ControlMessage.html" title="class in com.linkedin.venice.kafka.protocol">ControlMessage</a>&nbsp;controlMessage,
 int&nbsp;partition,
 <a href="../../kafka/consumer/PartitionConsumptionState.html" title="class in com.linkedin.davinci.kafka.consumer">PartitionConsumptionState</a>&nbsp;partitionConsumptionState)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Called when the server encounters a control message.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CompletableFuture.html" title="class or interface in java.util.concurrent" class="external-link">CompletableFuture</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Void.html" title="class or interface in java.lang" class="external-link">Void</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#processRecord(java.nio.ByteBuffer,byte%5B%5D,int,java.util.Set,com.linkedin.venice.utils.lazy.Lazy)" class="member-name-link">processRecord</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/ByteBuffer.html" title="class or interface in java.nio" class="external-link">ByteBuffer</a>&nbsp;newValue,
 byte[]&nbsp;key,
 int&nbsp;newValueSchemaId,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Set.html" title="class or interface in java.util" class="external-link">Set</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Integer.html" title="class or interface in java.lang" class="external-link">Integer</a>&gt;&nbsp;viewPartitionSet,
 <a href="../../../venice/utils/lazy/Lazy.html" title="interface in com.linkedin.venice.utils.lazy">Lazy</a>&lt;org.apache.avro.generic.GenericRecord&gt;&nbsp;newValueProvider)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">During NR pass-through viewPartitionSet is going to be provided.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CompletableFuture.html" title="class or interface in java.util.concurrent" class="external-link">CompletableFuture</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Void.html" title="class or interface in java.lang" class="external-link">Void</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#processRecord(java.nio.ByteBuffer,java.nio.ByteBuffer,byte%5B%5D,int,int,org.apache.avro.generic.GenericRecord,com.linkedin.venice.utils.lazy.Lazy)" class="member-name-link">processRecord</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/ByteBuffer.html" title="class or interface in java.nio" class="external-link">ByteBuffer</a>&nbsp;newValue,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/ByteBuffer.html" title="class or interface in java.nio" class="external-link">ByteBuffer</a>&nbsp;oldValue,
 byte[]&nbsp;key,
 int&nbsp;newValueSchemaId,
 int&nbsp;oldValueSchemaId,
 org.apache.avro.generic.GenericRecord&nbsp;replicationMetadataRecord,
 <a href="../../../venice/utils/lazy/Lazy.html" title="interface in com.linkedin.venice.utils.lazy">Lazy</a>&lt;org.apache.avro.generic.GenericRecord&gt;&nbsp;valueProvider)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">To be called as a given ingestion task consumes each record.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-com.linkedin.davinci.store.view.VeniceViewWriter">Methods inherited from class&nbsp;com.linkedin.davinci.store.view.<a href="VeniceViewWriter.html" title="class in com.linkedin.davinci.store.view">VeniceViewWriter</a></h3>
<code><a href="VeniceViewWriter.html#setProducerOptimizations(com.linkedin.venice.writer.VeniceWriterOptions.Builder)">setProducerOptimizations</a></code></div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-com.linkedin.venice.views.VeniceView">Methods inherited from class&nbsp;com.linkedin.venice.views.<a href="../../../venice/views/VeniceView.html" title="class in com.linkedin.venice.views">VeniceView</a></h3>
<code><a href="../../../venice/views/VeniceView.html#composeTopicName(int)">composeTopicName</a>, <a href="../../../venice/views/VeniceView.html#getStoreName(java.lang.String)">getStoreName</a>, <a href="../../../venice/views/VeniceView.html#getStoreNameFromViewStoreName(java.lang.String)">getStoreNameFromViewStoreName</a>, <a href="../../../venice/views/VeniceView.html#getTopicNamesAndConfigsForVersion(int)">getTopicNamesAndConfigsForVersion</a>, <a href="../../../venice/views/VeniceView.html#getViewNameFromViewStoreName(java.lang.String)">getViewNameFromViewStoreName</a>, <a href="../../../venice/views/VeniceView.html#getViewStoreName(java.lang.String,java.lang.String)">getViewStoreName</a>, <a href="../../../venice/views/VeniceView.html#getWriterOptionsBuilder(java.lang.String,com.linkedin.venice.meta.Version)">getWriterOptionsBuilder</a>, <a href="../../../venice/views/VeniceView.html#isViewStore(java.lang.String)">isViewStore</a>, <a href="../../../venice/views/VeniceView.html#isViewTopic(java.lang.String)">isViewTopic</a>, <a href="../../../venice/views/VeniceView.html#parseStoreAndViewFromViewTopic(java.lang.String)">parseStoreAndViewFromViewTopic</a>, <a href="../../../venice/views/VeniceView.html#parseStoreFromViewTopic(java.lang.String)">parseStoreFromViewTopic</a>, <a href="../../../venice/views/VeniceView.html#parseVersionFromViewTopic(java.lang.String)">parseVersionFromViewTopic</a>, <a href="../../../venice/views/VeniceView.html#validateConfigs(com.linkedin.venice.meta.Store)">validateConfigs</a></code></div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;(com.linkedin.davinci.config.VeniceConfigLoader,com.linkedin.venice.meta.Version,org.apache.avro.Schema,java.util.Map,com.linkedin.venice.writer.VeniceWriterFactory)">
<h3>MaterializedViewWriter</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">MaterializedViewWriter</span><wbr><span class="parameters">(<a href="../../config/VeniceConfigLoader.html" title="class in com.linkedin.davinci.config">VeniceConfigLoader</a>&nbsp;props,
 <a href="../../../venice/meta/Version.html" title="interface in com.linkedin.venice.meta">Version</a>&nbsp;version,
 org.apache.avro.Schema&nbsp;keySchema,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&nbsp;extraViewParameters,
 <a href="../../../venice/writer/VeniceWriterFactory.html" title="class in com.linkedin.venice.writer">VeniceWriterFactory</a>&nbsp;veniceWriterFactory)</span></div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="processRecord(java.nio.ByteBuffer,java.nio.ByteBuffer,byte[],int,int,org.apache.avro.generic.GenericRecord,com.linkedin.venice.utils.lazy.Lazy)">
<h3>processRecord</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CompletableFuture.html" title="class or interface in java.util.concurrent" class="external-link">CompletableFuture</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Void.html" title="class or interface in java.lang" class="external-link">Void</a>&gt;</span>&nbsp;<span class="element-name">processRecord</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/ByteBuffer.html" title="class or interface in java.nio" class="external-link">ByteBuffer</a>&nbsp;newValue,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/ByteBuffer.html" title="class or interface in java.nio" class="external-link">ByteBuffer</a>&nbsp;oldValue,
 byte[]&nbsp;key,
 int&nbsp;newValueSchemaId,
 int&nbsp;oldValueSchemaId,
 org.apache.avro.generic.GenericRecord&nbsp;replicationMetadataRecord,
 <a href="../../../venice/utils/lazy/Lazy.html" title="interface in com.linkedin.venice.utils.lazy">Lazy</a>&lt;org.apache.avro.generic.GenericRecord&gt;&nbsp;valueProvider)</span></div>
<div class="block"><span class="descfrm-type-label">Description copied from class:&nbsp;<code><a href="VeniceViewWriter.html#processRecord(java.nio.ByteBuffer,java.nio.ByteBuffer,byte%5B%5D,int,int,org.apache.avro.generic.GenericRecord,com.linkedin.venice.utils.lazy.Lazy)">VeniceViewWriter</a></code></span></div>
<div class="block">To be called as a given ingestion task consumes each record. This is called prior to writing to a
 VT or to persistent storage.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="VeniceViewWriter.html#processRecord(java.nio.ByteBuffer,java.nio.ByteBuffer,byte%5B%5D,int,int,org.apache.avro.generic.GenericRecord,com.linkedin.venice.utils.lazy.Lazy)">processRecord</a></code>&nbsp;in class&nbsp;<code><a href="VeniceViewWriter.html" title="class in com.linkedin.davinci.store.view">VeniceViewWriter</a></code></dd>
<dt>Parameters:</dt>
<dd><code>newValue</code> - the incoming fully specified value which hasn't yet been committed to Venice</dd>
<dd><code>oldValue</code> - the previous value which has already been locally committed to Venice for the given key</dd>
<dd><code>key</code> - the key of the record that designates newValue and oldValue</dd>
<dd><code>newValueSchemaId</code> - the schemaId of the incoming record</dd>
<dd><code>oldValueSchemaId</code> - the schemaId of the old record</dd>
<dd><code>replicationMetadataRecord</code> - the associated RMD for the incoming record.</dd>
<dd><code>valueProvider</code> - to provide the corresponding deserialized newValue for PUT and UPDATE or the old value for the
                      given key for DELETE.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="processRecord(java.nio.ByteBuffer,byte[],int,java.util.Set,com.linkedin.venice.utils.lazy.Lazy)">
<h3>processRecord</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CompletableFuture.html" title="class or interface in java.util.concurrent" class="external-link">CompletableFuture</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Void.html" title="class or interface in java.lang" class="external-link">Void</a>&gt;</span>&nbsp;<span class="element-name">processRecord</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/ByteBuffer.html" title="class or interface in java.nio" class="external-link">ByteBuffer</a>&nbsp;newValue,
 byte[]&nbsp;key,
 int&nbsp;newValueSchemaId,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Set.html" title="class or interface in java.util" class="external-link">Set</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Integer.html" title="class or interface in java.lang" class="external-link">Integer</a>&gt;&nbsp;viewPartitionSet,
 <a href="../../../venice/utils/lazy/Lazy.html" title="interface in com.linkedin.venice.utils.lazy">Lazy</a>&lt;org.apache.avro.generic.GenericRecord&gt;&nbsp;newValueProvider)</span></div>
<div class="block">During NR pass-through viewPartitionSet is going to be provided. This way we can forward record or chunks of a
 record to the appropriate view partition without the need to assemble or repartition.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="VeniceViewWriter.html#processRecord(java.nio.ByteBuffer,byte%5B%5D,int,java.util.Set,com.linkedin.venice.utils.lazy.Lazy)">processRecord</a></code>&nbsp;in class&nbsp;<code><a href="VeniceViewWriter.html" title="class in com.linkedin.davinci.store.view">VeniceViewWriter</a></code></dd>
<dt>Parameters:</dt>
<dd><code>newValue</code> - the incoming fully specified value which hasn't yet been committed to Venice</dd>
<dd><code>key</code> - the key of the record that designates newValue and oldValue</dd>
<dd><code>newValueSchemaId</code> - the schemaId of the incoming record</dd>
<dd><code>viewPartitionSet</code> - set of view partitions this record should be processed to. This is used in NR
                                 pass-through when remote region leaders can forward record or chunks of a record
                                 to the correct view partitions without the need to perform chunk assembly or
                                 repartitioning.</dd>
<dd><code>newValueProvider</code> - to provide the deserialized new value</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getViewWriterType()">
<h3>getViewWriterType</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="VeniceViewWriter.ViewWriterType.html" title="enum class in com.linkedin.davinci.store.view">VeniceViewWriter.ViewWriterType</a></span>&nbsp;<span class="element-name">getViewWriterType</span>()</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="VeniceViewWriter.html#getViewWriterType()">getViewWriterType</a></code>&nbsp;in class&nbsp;<code><a href="VeniceViewWriter.html" title="class in com.linkedin.davinci.store.view">VeniceViewWriter</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="processControlMessage(com.linkedin.venice.message.KafkaKey,com.linkedin.venice.kafka.protocol.KafkaMessageEnvelope,com.linkedin.venice.kafka.protocol.ControlMessage,int,com.linkedin.davinci.kafka.consumer.PartitionConsumptionState)">
<h3>processControlMessage</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">processControlMessage</span><wbr><span class="parameters">(<a href="../../../venice/message/KafkaKey.html" title="class in com.linkedin.venice.message">KafkaKey</a>&nbsp;kafkaKey,
 <a href="../../../venice/kafka/protocol/KafkaMessageEnvelope.html" title="class in com.linkedin.venice.kafka.protocol">KafkaMessageEnvelope</a>&nbsp;kafkaMessageEnvelope,
 <a href="../../../venice/kafka/protocol/ControlMessage.html" title="class in com.linkedin.venice.kafka.protocol">ControlMessage</a>&nbsp;controlMessage,
 int&nbsp;partition,
 <a href="../../kafka/consumer/PartitionConsumptionState.html" title="class in com.linkedin.davinci.kafka.consumer">PartitionConsumptionState</a>&nbsp;partitionConsumptionState)</span></div>
<div class="block"><span class="descfrm-type-label">Description copied from class:&nbsp;<code><a href="VeniceViewWriter.html#processControlMessage(com.linkedin.venice.message.KafkaKey,com.linkedin.venice.kafka.protocol.KafkaMessageEnvelope,com.linkedin.venice.kafka.protocol.ControlMessage,int,com.linkedin.davinci.kafka.consumer.PartitionConsumptionState)">VeniceViewWriter</a></code></span></div>
<div class="block">Called when the server encounters a control message. There isn't (today) a strict ordering
 on if the rest of the server alters it's state completely or not based on the incoming control message
 relative to the given view.

 Different view types may be interested in different control messages and act differently. The corresponding
 view writer should implement this method accordingly.</div>
<dl class="notes">
<dt>Overrides:</dt>
<dd><code><a href="VeniceViewWriter.html#processControlMessage(com.linkedin.venice.message.KafkaKey,com.linkedin.venice.kafka.protocol.KafkaMessageEnvelope,com.linkedin.venice.kafka.protocol.ControlMessage,int,com.linkedin.davinci.kafka.consumer.PartitionConsumptionState)">processControlMessage</a></code>&nbsp;in class&nbsp;<code><a href="VeniceViewWriter.html" title="class in com.linkedin.davinci.store.view">VeniceViewWriter</a></code></dd>
<dt>Parameters:</dt>
<dd><code>kafkaKey</code> - the corresponding kafka key of this control message</dd>
<dd><code>kafkaMessageEnvelope</code> - the corresponding kafka message envelope of this control message</dd>
<dd><code>controlMessage</code> - the control message we're processing</dd>
<dd><code>partition</code> - the partition this control message was delivered to</dd>
<dd><code>partitionConsumptionState</code> - the pcs of the consuming node</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getWriterClassName()">
<h3>getWriterClassName</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">getWriterClassName</span>()</div>
<div class="block"><span class="descfrm-type-label">Description copied from class:&nbsp;<code><a href="../../../venice/views/VeniceView.html#getWriterClassName()">VeniceView</a></code></span></div>
<div class="block">Implementations should return the fully specified class name for the component VeniceViewWriter
 implementation.</div>
<dl class="notes">
<dt>Overrides:</dt>
<dd><code><a href="../../../venice/views/VeniceView.html#getWriterClassName()">getWriterClassName</a></code>&nbsp;in class&nbsp;<code><a href="../../../venice/views/VeniceView.html" title="class in com.linkedin.venice.views">VeniceView</a></code></dd>
<dt>Returns:</dt>
<dd>returns the className of the writer which should be instantiated.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="close(boolean)">
<h3>close</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">close</span><wbr><span class="parameters">(boolean&nbsp;gracefulClose)</span></div>
<dl class="notes">
<dt>Overrides:</dt>
<dd><code><a href="../../../venice/views/VeniceView.html#close(boolean)">close</a></code>&nbsp;in class&nbsp;<code><a href="../../../venice/views/VeniceView.html" title="class in com.linkedin.venice.views">VeniceView</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isComplexVenicePartitioner()">
<h3>isComplexVenicePartitioner</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isComplexVenicePartitioner</span>()</div>
</section>
</li>
<li>
<section class="detail" id="getViewName()">
<h3>getViewName</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">getViewName</span>()</div>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
</body>
</html>
