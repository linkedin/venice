<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) -->
<title>KafkaStoreIngestionService (venice API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="declaration: package: com.linkedin.davinci.kafka.consumer, class: KafkaStoreIngestionService">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li><a href="#nested-class-summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field-summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">com.linkedin.davinci.kafka.consumer</a></div>
<h1 title="Class KafkaStoreIngestionService" class="title">Class KafkaStoreIngestionService</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance"><a href="../../../venice/service/AbstractVeniceService.html" title="class in com.linkedin.venice.service">com.linkedin.venice.service.AbstractVeniceService</a>
<div class="inheritance">com.linkedin.davinci.kafka.consumer.KafkaStoreIngestionService</div>
</div>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="StoreIngestionService.html" title="interface in com.linkedin.davinci.kafka.consumer">StoreIngestionService</a></code>, <code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/Closeable.html" title="class or interface in java.io" class="external-link">Closeable</a></code>, <code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/AutoCloseable.html" title="class or interface in java.lang" class="external-link">AutoCloseable</a></code></dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public class </span><span class="element-name type-name-label">KafkaStoreIngestionService</span>
<span class="extends-implements">extends <a href="../../../venice/service/AbstractVeniceService.html" title="class in com.linkedin.venice.service">AbstractVeniceService</a>
implements <a href="StoreIngestionService.html" title="interface in com.linkedin.davinci.kafka.consumer">StoreIngestionService</a></span></div>
<div class="block">Assumes: One to One mapping between a Venice Store and Kafka Topic.
 Manages Kafka topics and partitions that need to be consumed for the stores on this node.

 Launches <a href="StoreIngestionTask.html" title="class in com.linkedin.davinci.kafka.consumer"><code>StoreIngestionTask</code></a> for each store version to consume and process messages.

 Uses the "new" Kafka Consumer.</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<li>
<section class="nested-class-summary" id="nested-class-summary">
<h2>Nested Class Summary</h2>
<div class="inherited-list">
<h2 id="nested-classes-inherited-from-class-com.linkedin.venice.service.AbstractVeniceService">Nested classes/interfaces inherited from class&nbsp;com.linkedin.venice.service.<a href="../../../venice/service/AbstractVeniceService.html" title="class in com.linkedin.venice.service">AbstractVeniceService</a></h2>
<code><a href="../../../venice/service/AbstractVeniceService.ServiceState.html" title="enum class in com.linkedin.venice.service">AbstractVeniceService.ServiceState</a></code></div>
</section>
</li>
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field-summary">
<h2>Field Summary</h2>
<div class="inherited-list">
<h3 id="fields-inherited-from-class-com.linkedin.venice.service.AbstractVeniceService">Fields inherited from class&nbsp;com.linkedin.venice.service.<a href="../../../venice/service/AbstractVeniceService.html" title="class in com.linkedin.venice.service">AbstractVeniceService</a></h3>
<code><a href="../../../venice/service/AbstractVeniceService.html#logger">logger</a>, <a href="../../../venice/service/AbstractVeniceService.html#serviceState">serviceState</a></code></div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E(com.linkedin.davinci.storage.StorageService,com.linkedin.davinci.config.VeniceConfigLoader,com.linkedin.davinci.storage.StorageMetadataService,com.linkedin.venice.meta.ClusterInfoProvider,com.linkedin.venice.meta.ReadOnlyStoreRepository,com.linkedin.venice.meta.ReadOnlySchemaRepository,com.linkedin.venice.meta.ReadOnlyLiveClusterConfigRepository,io.tehuti.metrics.MetricsRepository,java.util.Optional,java.util.Optional,com.linkedin.venice.serialization.avro.InternalAvroSpecificSerializer,java.util.Optional,com.linkedin.venice.service.ICProvider,boolean,com.linkedin.davinci.compression.StorageEngineBackedCompressorFactory,java.util.Optional,boolean,com.linkedin.davinci.kafka.consumer.RemoteIngestionRepairService,com.linkedin.venice.pubsub.PubSubClientsFactory,java.util.Optional,com.linkedin.davinci.stats.ingestion.heartbeat.HeartbeatMonitoringService,com.linkedin.venice.utils.lazy.Lazy,com.linkedin.davinci.kafka.consumer.AdaptiveThrottlerSignalService,java.util.Optional)" class="member-name-link">KafkaStoreIngestionService</a><wbr>(<a href="../../storage/StorageService.html" title="class in com.linkedin.davinci.storage">StorageService</a>&nbsp;storageService,
 <a href="../../config/VeniceConfigLoader.html" title="class in com.linkedin.davinci.config">VeniceConfigLoader</a>&nbsp;veniceConfigLoader,
 <a href="../../storage/StorageMetadataService.html" title="interface in com.linkedin.davinci.storage">StorageMetadataService</a>&nbsp;storageMetadataService,
 <a href="../../../venice/meta/ClusterInfoProvider.html" title="interface in com.linkedin.venice.meta">ClusterInfoProvider</a>&nbsp;clusterInfoProvider,
 <a href="../../../venice/meta/ReadOnlyStoreRepository.html" title="interface in com.linkedin.venice.meta">ReadOnlyStoreRepository</a>&nbsp;metadataRepo,
 <a href="../../../venice/meta/ReadOnlySchemaRepository.html" title="interface in com.linkedin.venice.meta">ReadOnlySchemaRepository</a>&nbsp;schemaRepo,
 <a href="../../../venice/meta/ReadOnlyLiveClusterConfigRepository.html" title="interface in com.linkedin.venice.meta">ReadOnlyLiveClusterConfigRepository</a>&nbsp;liveClusterConfigRepository,
 io.tehuti.metrics.MetricsRepository&nbsp;metricsRepository,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Optional.html" title="class or interface in java.util" class="external-link">Optional</a>&lt;<a href="../../../venice/schema/SchemaReader.html" title="interface in com.linkedin.venice.schema">SchemaReader</a>&gt;&nbsp;kafkaMessageEnvelopeSchemaReader,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Optional.html" title="class or interface in java.util" class="external-link">Optional</a>&lt;<a href="../../../venice/client/store/ClientConfig.html" title="class in com.linkedin.venice.client.store">ClientConfig</a>&gt;&nbsp;clientConfig,
 <a href="../../../venice/serialization/avro/InternalAvroSpecificSerializer.html" title="class in com.linkedin.venice.serialization.avro">InternalAvroSpecificSerializer</a>&lt;<a href="../../../venice/kafka/protocol/state/PartitionState.html" title="class in com.linkedin.venice.kafka.protocol.state">PartitionState</a>&gt;&nbsp;partitionStateSerializer,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Optional.html" title="class or interface in java.util" class="external-link">Optional</a>&lt;<a href="../../../venice/helix/HelixReadOnlyZKSharedSchemaRepository.html" title="class in com.linkedin.venice.helix">HelixReadOnlyZKSharedSchemaRepository</a>&gt;&nbsp;zkSharedSchemaRepository,
 <a href="../../../venice/service/ICProvider.html" title="interface in com.linkedin.venice.service">ICProvider</a>&nbsp;icProvider,
 boolean&nbsp;isIsolatedIngestion,
 <a href="../../compression/StorageEngineBackedCompressorFactory.html" title="class in com.linkedin.davinci.compression">StorageEngineBackedCompressorFactory</a>&nbsp;compressorFactory,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Optional.html" title="class or interface in java.util" class="external-link">Optional</a>&lt;<a href="../../store/cache/backend/ObjectCacheBackend.html" title="class in com.linkedin.davinci.store.cache.backend">ObjectCacheBackend</a>&gt;&nbsp;cacheBackend,
 boolean&nbsp;isDaVinciClient,
 <a href="RemoteIngestionRepairService.html" title="class in com.linkedin.davinci.kafka.consumer">RemoteIngestionRepairService</a>&nbsp;remoteIngestionRepairService,
 <a href="../../../venice/pubsub/PubSubClientsFactory.html" title="class in com.linkedin.venice.pubsub">PubSubClientsFactory</a>&nbsp;pubSubClientsFactory,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Optional.html" title="class or interface in java.util" class="external-link">Optional</a>&lt;<a href="../../../venice/security/SSLFactory.html" title="interface in com.linkedin.venice.security">SSLFactory</a>&gt;&nbsp;sslFactory,
 <a href="../../stats/ingestion/heartbeat/HeartbeatMonitoringService.html" title="class in com.linkedin.davinci.stats.ingestion.heartbeat">HeartbeatMonitoringService</a>&nbsp;heartbeatMonitoringService,
 <a href="../../../venice/utils/lazy/Lazy.html" title="interface in com.linkedin.venice.utils.lazy">Lazy</a>&lt;org.apache.helix.manager.zk.ZKHelixAdmin&gt;&nbsp;zkHelixAdmin,
 <a href="AdaptiveThrottlerSignalService.html" title="class in com.linkedin.davinci.kafka.consumer">AdaptiveThrottlerSignalService</a>&nbsp;adaptiveThrottlerSignalService,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Optional.html" title="class or interface in java.util" class="external-link">Optional</a>&lt;com.linkedin.d2.balancer.D2Client&gt;&nbsp;d2Client)</code></div>
<div class="col-last even-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab1" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab1', 3)" class="table-tab">Static Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel" aria-labelledby="method-summary-table-tab0">
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#addIngestionNotifier(com.linkedin.davinci.notifier.VeniceNotifier)" class="member-name-link">addIngestionNotifier</a><wbr>(<a href="../../notifier/VeniceNotifier.html" title="interface in com.linkedin.davinci.notifier">VeniceNotifier</a>&nbsp;notifier)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Adds Notifier to get Notifications for get various status of the consumption
 tasks like start, completed, progress and error states.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#attemptToPrintIngestionInfoFor(java.lang.String,java.lang.Integer,java.lang.Integer,java.lang.String)" class="member-name-link">attemptToPrintIngestionInfoFor</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;storeName,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Integer.html" title="class or interface in java.lang" class="external-link">Integer</a>&nbsp;version,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Integer.html" title="class or interface in java.lang" class="external-link">Integer</a>&nbsp;partition,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;regionName)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#containsRunningConsumption(com.linkedin.davinci.config.VeniceStoreVersionConfig)" class="member-name-link">containsRunningConsumption</a><wbr>(<a href="../../config/VeniceStoreVersionConfig.html" title="class in com.linkedin.davinci.config">VeniceStoreVersionConfig</a>&nbsp;veniceStore)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Check whether there is a running consumption task for given store.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#containsRunningConsumption(java.lang.String)" class="member-name-link">containsRunningConsumption</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;topic)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Check whether there is a running consumption task for given store version topic.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#demoteToStandby(com.linkedin.davinci.config.VeniceStoreVersionConfig,int,com.linkedin.davinci.helix.LeaderFollowerPartitionStateModel.LeaderSessionIdChecker)" class="member-name-link">demoteToStandby</a><wbr>(<a href="../../config/VeniceStoreVersionConfig.html" title="class in com.linkedin.davinci.config">VeniceStoreVersionConfig</a>&nbsp;veniceStoreVersionConfig,
 int&nbsp;partitionId,
 <a href="../../helix/LeaderFollowerPartitionStateModel.LeaderSessionIdChecker.html" title="class in com.linkedin.davinci.helix">LeaderFollowerPartitionStateModel.LeaderSessionIdChecker</a>&nbsp;checker)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CompletableFuture.html" title="class or interface in java.util.concurrent" class="external-link">CompletableFuture</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Void.html" title="class or interface in java.lang" class="external-link">Void</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#dropStoragePartitionGracefully(com.linkedin.davinci.config.VeniceStoreVersionConfig,int)" class="member-name-link">dropStoragePartitionGracefully</a><wbr>(<a href="../../config/VeniceStoreVersionConfig.html" title="class in com.linkedin.davinci.config">VeniceStoreVersionConfig</a>&nbsp;veniceStore,
 int&nbsp;partitionId)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Drops the corresponding Venice Partition gracefully.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../../stats/AggVersionedIngestionStats.html" title="class in com.linkedin.davinci.stats">AggVersionedIngestionStats</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getAggVersionedIngestionStats()" class="member-name-link">getAggVersionedIngestionStats</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Get AggVersionedStorageIngestionStats</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../../listener/response/AdminResponse.html" title="class in com.linkedin.davinci.listener.response">AdminResponse</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getConsumptionSnapshots(java.lang.String,com.linkedin.venice.utils.ComplementSet)" class="member-name-link">getConsumptionSnapshots</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;topicName,
 <a href="../../../venice/utils/ComplementSet.html" title="class in com.linkedin.venice.utils">ComplementSet</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Integer.html" title="class or interface in java.lang" class="external-link">Integer</a>&gt;&nbsp;partitions)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../../stats/AggHostLevelIngestionStats.html" title="class in com.linkedin.davinci.stats">AggHostLevelIngestionStats</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getHostLevelIngestionStats()" class="member-name-link">getHostLevelIngestionStats</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Set.html" title="class or interface in java.util" class="external-link">Set</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getIngestingTopicsWithVersionStatusNotOnline()" class="member-name-link">getIngestingTopicsWithVersionStatusNotOnline</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Get topic names that are currently maintained by the ingestion service with corresponding version status not in an
 online state.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../../client/InternalDaVinciRecordTransformerConfig.html" title="class in com.linkedin.davinci.client">InternalDaVinciRecordTransformerConfig</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getInternalRecordTransformerConfig(java.lang.String)" class="member-name-link">getInternalRecordTransformerConfig</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;storeName)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../../../venice/serialization/avro/KafkaValueSerializer.html" title="class in com.linkedin.venice.serialization.avro">KafkaValueSerializer</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getKafkaValueSerializer()" class="member-name-link">getKafkaValueSerializer</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>final <a href="../../../venice/meta/ReadOnlyStoreRepository.html" title="interface in com.linkedin.venice.meta">ReadOnlyStoreRepository</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getMetadataRepo()" class="member-name-link">getMetadataRepo</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="ParticipantStoreConsumptionTask.html" title="class in com.linkedin.davinci.kafka.consumer">ParticipantStoreConsumptionTask</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getParticipantStoreConsumptionTask()" class="member-name-link">getParticipantStoreConsumptionTask</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/ByteBuffer.html" title="class or interface in java.nio" class="external-link">ByteBuffer</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getPartitionOffsetRecords(java.lang.String,int)" class="member-name-link">getPartitionOffsetRecords</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;topicName,
 int&nbsp;partition)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">This method should only be called when the forked ingestion process is handing over ingestion task to main process.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../../../venice/pubsub/PubSubContext.html" title="class in com.linkedin.venice.pubsub">PubSubContext</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getPubSubContext()" class="member-name-link">getPubSubContext</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Optional.html" title="class or interface in java.util" class="external-link">Optional</a>&lt;<a href="../../../venice/pubsub/api/PubSubPosition.html" title="interface in com.linkedin.venice.pubsub.api">PubSubPosition</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getPubSubPosition(com.linkedin.davinci.config.VeniceStoreVersionConfig,int,java.util.Map,java.util.Map)" class="member-name-link">getPubSubPosition</a><wbr>(<a href="../../config/VeniceStoreVersionConfig.html" title="class in com.linkedin.davinci.config">VeniceStoreVersionConfig</a>&nbsp;veniceStore,
 int&nbsp;partitionId,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Integer.html" title="class or interface in java.lang" class="external-link">Integer</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&gt;&nbsp;timestampMap,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Integer.html" title="class or interface in java.lang" class="external-link">Integer</a>,<wbr><a href="../../../venice/pubsub/api/PubSubPosition.html" title="interface in com.linkedin.venice.pubsub.api">PubSubPosition</a>&gt;&nbsp;pubSubPositionMap)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="StoreIngestionTask.html" title="class in com.linkedin.davinci.kafka.consumer">StoreIngestionTask</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getStoreIngestionTask(java.lang.String)" class="member-name-link">getStoreIngestionTask</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;topicName)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/ByteBuffer.html" title="class or interface in java.nio" class="external-link">ByteBuffer</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getStoreVersionCompressionDictionary(java.lang.String)" class="member-name-link">getStoreVersionCompressionDictionary</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;topicName)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="StoreIngestionTask.html" title="class in com.linkedin.davinci.kafka.consumer">StoreIngestionTask</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getTopicNameToIngestionTaskMap()" class="member-name-link">getTopicNameToIngestionTaskMap</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../../listener/response/ReplicaIngestionResponse.html" title="class in com.linkedin.davinci.listener.response">ReplicaIngestionResponse</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getTopicPartitionIngestionContext(java.lang.String,java.lang.String,int)" class="member-name-link">getTopicPartitionIngestionContext</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;versionTopic,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;topicName,
 int&nbsp;partitionId)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../../config/VeniceConfigLoader.html" title="class in com.linkedin.davinci.config">VeniceConfigLoader</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getVeniceConfigLoader()" class="member-name-link">getVeniceConfigLoader</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../../../venice/writer/VeniceWriterFactory.html" title="class in com.linkedin.venice.writer">VeniceWriterFactory</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getVeniceWriterFactory()" class="member-name-link">getVeniceWriterFactory</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#hasCurrentVersionBootstrapping()" class="member-name-link">hasCurrentVersionBootstrapping</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#hasCurrentVersionBootstrapping(java.util.Map)" class="member-name-link">hasCurrentVersionBootstrapping</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="StoreIngestionTask.html" title="class in com.linkedin.davinci.kafka.consumer">StoreIngestionTask</a>&gt;&nbsp;ingestionTaskMap)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isDaVinciClient()" class="member-name-link">isDaVinciClient</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isLiveUpdateSuppressionEnabled()" class="member-name-link">isLiveUpdateSuppressionEnabled</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isPartitionConsuming(java.lang.String,int)" class="member-name-link">isPartitionConsuming</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;topic,
 int&nbsp;partitionId)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Check whether the specified partition is still being consumed</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#killConsumptionTask(java.lang.String)" class="member-name-link">killConsumptionTask</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;topicName)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Kill all of running consumptions of given store.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#maybeAddResubscribeRequest(java.lang.String,int,int)" class="member-name-link">maybeAddResubscribeRequest</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;storeName,
 int&nbsp;version,
 int&nbsp;partition)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#promoteToLeader(com.linkedin.davinci.config.VeniceStoreVersionConfig,int,com.linkedin.davinci.helix.LeaderFollowerPartitionStateModel.LeaderSessionIdChecker)" class="member-name-link">promoteToLeader</a><wbr>(<a href="../../config/VeniceStoreVersionConfig.html" title="class in com.linkedin.davinci.config">VeniceStoreVersionConfig</a>&nbsp;veniceStoreVersionConfig,
 int&nbsp;partitionId,
 <a href="../../helix/LeaderFollowerPartitionStateModel.LeaderSessionIdChecker.html" title="class in com.linkedin.davinci.helix">LeaderFollowerPartitionStateModel.LeaderSessionIdChecker</a>&nbsp;checker)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#recordIngestionFailure(java.lang.String)" class="member-name-link">recordIngestionFailure</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;storeName)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#registerRecordTransformerConfig(java.lang.String,com.linkedin.davinci.client.DaVinciRecordTransformerConfig)" class="member-name-link">registerRecordTransformerConfig</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;storeName,
 <a href="../../client/DaVinciRecordTransformerConfig.html" title="class in com.linkedin.davinci.client">DaVinciRecordTransformerConfig</a>&nbsp;recordTransformerConfig)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#replaceAndAddTestNotifier(com.linkedin.davinci.notifier.VeniceNotifier)" class="member-name-link">replaceAndAddTestNotifier</a><wbr>(<a href="../../notifier/VeniceNotifier.html" title="interface in com.linkedin.davinci.notifier">VeniceNotifier</a>&nbsp;notifier)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#shutdownStoreIngestionTask(java.lang.String)" class="member-name-link">shutdownStoreIngestionTask</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;topicName)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">This method closes the specified <a href="StoreIngestionTask.html" title="class in com.linkedin.davinci.kafka.consumer"><code>StoreIngestionTask</code></a> and wait for up to 10 seconds for fully shutdown.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#startConsumption(com.linkedin.davinci.config.VeniceStoreVersionConfig,int,java.util.Optional)" class="member-name-link">startConsumption</a><wbr>(<a href="../../config/VeniceStoreVersionConfig.html" title="class in com.linkedin.davinci.config">VeniceStoreVersionConfig</a>&nbsp;veniceStore,
 int&nbsp;partitionId,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Optional.html" title="class or interface in java.util" class="external-link">Optional</a>&lt;<a href="../../../venice/pubsub/api/PubSubPosition.html" title="interface in com.linkedin.venice.pubsub.api">PubSubPosition</a>&gt;&nbsp;pubSubPosition)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Starts consuming messages from Kafka Partition corresponding to Venice Partition.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#startInner()" class="member-name-link">startInner</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Starts the Kafka consumption tasks for already subscribed partitions.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CompletableFuture.html" title="class or interface in java.util.concurrent" class="external-link">CompletableFuture</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Void.html" title="class or interface in java.lang" class="external-link">Void</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#stopConsumption(com.linkedin.davinci.config.VeniceStoreVersionConfig,int)" class="member-name-link">stopConsumption</a><wbr>(<a href="../../config/VeniceStoreVersionConfig.html" title="class in com.linkedin.davinci.config">VeniceStoreVersionConfig</a>&nbsp;veniceStore,
 int&nbsp;partitionId)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Stops consuming messages from Kafka Partition corresponding to Venice Partition.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#stopConsumptionAndWait(com.linkedin.davinci.config.VeniceStoreVersionConfig,int,int,int,boolean)" class="member-name-link">stopConsumptionAndWait</a><wbr>(<a href="../../config/VeniceStoreVersionConfig.html" title="class in com.linkedin.davinci.config">VeniceStoreVersionConfig</a>&nbsp;veniceStore,
 int&nbsp;partitionId,
 int&nbsp;sleepSeconds,
 int&nbsp;numRetries,
 boolean&nbsp;whetherToResetOffset)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Stops consuming messages from Kafka Partition corresponding to Venice Partition and wait up to
 (sleepSeconds * numRetires) to make sure partition consumption is stopped.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#stopInner()" class="member-name-link">stopInner</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Stops all the Kafka consumption tasks.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#syncTopicPartitionOffset(java.lang.String,int)" class="member-name-link">syncTopicPartitionOffset</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;topicName,
 int&nbsp;partition)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Updates offset metadata and sync to storage for specified topic partition.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#topicPartitionHasAnyPendingActions(java.lang.String,int)" class="member-name-link">topicPartitionHasAnyPendingActions</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;topic,
 int&nbsp;partition)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#updatePartitionOffsetRecords(java.lang.String,int,java.nio.ByteBuffer)" class="member-name-link">updatePartitionOffsetRecords</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;topicName,
 int&nbsp;partition,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/ByteBuffer.html" title="class or interface in java.nio" class="external-link">ByteBuffer</a>&nbsp;offsetRecordByteBuffer)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">This method updates all sub-partitions' latest offset records fetched from isolated ingestion process
 in main process, so main process's in-memory storage metadata service could be aware of the latest updates and will
 not re-start the ingestion from scratch.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#updateStatsEmission(java.util.NavigableMap,java.lang.String)" class="member-name-link">updateStatsEmission</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/NavigableMap.html" title="class or interface in java.util" class="external-link">NavigableMap</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="StoreIngestionTask.html" title="class in com.linkedin.davinci.kafka.consumer">StoreIngestionTask</a>&gt;&nbsp;taskMap,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;storeName)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">This function will go through all known ingestion task in this server node, find the task that matches the
 storeName and has the largest version number; if the task doesn't enable metric emission, enable it and
 update store ingestion stats.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#updateStatsEmission(java.util.NavigableMap,java.lang.String,int)" class="member-name-link">updateStatsEmission</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/NavigableMap.html" title="class or interface in java.util" class="external-link">NavigableMap</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="StoreIngestionTask.html" title="class in com.linkedin.davinci.kafka.consumer">StoreIngestionTask</a>&gt;&nbsp;taskMap,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;storeName,
 int&nbsp;maximumVersion)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Find the task that matches both the storeName and maximumVersion number, enable metrics emission for this task and
 update ingestion stats with this task; disable metric emission for all the task that doesn't max version.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#waitIngestionTaskToCompleteAllPartitionPendingActions(java.lang.String,int,long,int)" class="member-name-link">waitIngestionTaskToCompleteAllPartitionPendingActions</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;topicName,
 int&nbsp;partition,
 long&nbsp;retryIntervalInMs,
 int&nbsp;numRetries)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-com.linkedin.venice.service.AbstractVeniceService">Methods inherited from class&nbsp;com.linkedin.venice.service.<a href="../../../venice/service/AbstractVeniceService.html" title="class in com.linkedin.venice.service">AbstractVeniceService</a></h3>
<code><a href="../../../venice/service/AbstractVeniceService.html#close()">close</a>, <a href="../../../venice/service/AbstractVeniceService.html#getName()">getName</a>, <a href="../../../venice/service/AbstractVeniceService.html#isRunning()">isRunning</a>, <a href="../../../venice/service/AbstractVeniceService.html#start()">start</a>, <a href="../../../venice/service/AbstractVeniceService.html#stop()">stop</a></code></div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;(com.linkedin.davinci.storage.StorageService,com.linkedin.davinci.config.VeniceConfigLoader,com.linkedin.davinci.storage.StorageMetadataService,com.linkedin.venice.meta.ClusterInfoProvider,com.linkedin.venice.meta.ReadOnlyStoreRepository,com.linkedin.venice.meta.ReadOnlySchemaRepository,com.linkedin.venice.meta.ReadOnlyLiveClusterConfigRepository,io.tehuti.metrics.MetricsRepository,java.util.Optional,java.util.Optional,com.linkedin.venice.serialization.avro.InternalAvroSpecificSerializer,java.util.Optional,com.linkedin.venice.service.ICProvider,boolean,com.linkedin.davinci.compression.StorageEngineBackedCompressorFactory,java.util.Optional,boolean,com.linkedin.davinci.kafka.consumer.RemoteIngestionRepairService,com.linkedin.venice.pubsub.PubSubClientsFactory,java.util.Optional,com.linkedin.davinci.stats.ingestion.heartbeat.HeartbeatMonitoringService,com.linkedin.venice.utils.lazy.Lazy,com.linkedin.davinci.kafka.consumer.AdaptiveThrottlerSignalService,java.util.Optional)">
<h3>KafkaStoreIngestionService</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">KafkaStoreIngestionService</span><wbr><span class="parameters">(<a href="../../storage/StorageService.html" title="class in com.linkedin.davinci.storage">StorageService</a>&nbsp;storageService,
 <a href="../../config/VeniceConfigLoader.html" title="class in com.linkedin.davinci.config">VeniceConfigLoader</a>&nbsp;veniceConfigLoader,
 <a href="../../storage/StorageMetadataService.html" title="interface in com.linkedin.davinci.storage">StorageMetadataService</a>&nbsp;storageMetadataService,
 <a href="../../../venice/meta/ClusterInfoProvider.html" title="interface in com.linkedin.venice.meta">ClusterInfoProvider</a>&nbsp;clusterInfoProvider,
 <a href="../../../venice/meta/ReadOnlyStoreRepository.html" title="interface in com.linkedin.venice.meta">ReadOnlyStoreRepository</a>&nbsp;metadataRepo,
 <a href="../../../venice/meta/ReadOnlySchemaRepository.html" title="interface in com.linkedin.venice.meta">ReadOnlySchemaRepository</a>&nbsp;schemaRepo,
 <a href="../../../venice/meta/ReadOnlyLiveClusterConfigRepository.html" title="interface in com.linkedin.venice.meta">ReadOnlyLiveClusterConfigRepository</a>&nbsp;liveClusterConfigRepository,
 io.tehuti.metrics.MetricsRepository&nbsp;metricsRepository,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Optional.html" title="class or interface in java.util" class="external-link">Optional</a>&lt;<a href="../../../venice/schema/SchemaReader.html" title="interface in com.linkedin.venice.schema">SchemaReader</a>&gt;&nbsp;kafkaMessageEnvelopeSchemaReader,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Optional.html" title="class or interface in java.util" class="external-link">Optional</a>&lt;<a href="../../../venice/client/store/ClientConfig.html" title="class in com.linkedin.venice.client.store">ClientConfig</a>&gt;&nbsp;clientConfig,
 <a href="../../../venice/serialization/avro/InternalAvroSpecificSerializer.html" title="class in com.linkedin.venice.serialization.avro">InternalAvroSpecificSerializer</a>&lt;<a href="../../../venice/kafka/protocol/state/PartitionState.html" title="class in com.linkedin.venice.kafka.protocol.state">PartitionState</a>&gt;&nbsp;partitionStateSerializer,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Optional.html" title="class or interface in java.util" class="external-link">Optional</a>&lt;<a href="../../../venice/helix/HelixReadOnlyZKSharedSchemaRepository.html" title="class in com.linkedin.venice.helix">HelixReadOnlyZKSharedSchemaRepository</a>&gt;&nbsp;zkSharedSchemaRepository,
 <a href="../../../venice/service/ICProvider.html" title="interface in com.linkedin.venice.service">ICProvider</a>&nbsp;icProvider,
 boolean&nbsp;isIsolatedIngestion,
 <a href="../../compression/StorageEngineBackedCompressorFactory.html" title="class in com.linkedin.davinci.compression">StorageEngineBackedCompressorFactory</a>&nbsp;compressorFactory,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Optional.html" title="class or interface in java.util" class="external-link">Optional</a>&lt;<a href="../../store/cache/backend/ObjectCacheBackend.html" title="class in com.linkedin.davinci.store.cache.backend">ObjectCacheBackend</a>&gt;&nbsp;cacheBackend,
 boolean&nbsp;isDaVinciClient,
 <a href="RemoteIngestionRepairService.html" title="class in com.linkedin.davinci.kafka.consumer">RemoteIngestionRepairService</a>&nbsp;remoteIngestionRepairService,
 <a href="../../../venice/pubsub/PubSubClientsFactory.html" title="class in com.linkedin.venice.pubsub">PubSubClientsFactory</a>&nbsp;pubSubClientsFactory,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Optional.html" title="class or interface in java.util" class="external-link">Optional</a>&lt;<a href="../../../venice/security/SSLFactory.html" title="interface in com.linkedin.venice.security">SSLFactory</a>&gt;&nbsp;sslFactory,
 <a href="../../stats/ingestion/heartbeat/HeartbeatMonitoringService.html" title="class in com.linkedin.davinci.stats.ingestion.heartbeat">HeartbeatMonitoringService</a>&nbsp;heartbeatMonitoringService,
 <a href="../../../venice/utils/lazy/Lazy.html" title="interface in com.linkedin.venice.utils.lazy">Lazy</a>&lt;org.apache.helix.manager.zk.ZKHelixAdmin&gt;&nbsp;zkHelixAdmin,
 <a href="AdaptiveThrottlerSignalService.html" title="class in com.linkedin.davinci.kafka.consumer">AdaptiveThrottlerSignalService</a>&nbsp;adaptiveThrottlerSignalService,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Optional.html" title="class or interface in java.util" class="external-link">Optional</a>&lt;com.linkedin.d2.balancer.D2Client&gt;&nbsp;d2Client)</span></div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="startInner()">
<h3>startInner</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">startInner</span>()</div>
<div class="block">Starts the Kafka consumption tasks for already subscribed partitions.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../../../venice/service/AbstractVeniceService.html#startInner()">startInner</a></code>&nbsp;in class&nbsp;<code><a href="../../../venice/service/AbstractVeniceService.html" title="class in com.linkedin.venice.service">AbstractVeniceService</a></code></dd>
<dt>Returns:</dt>
<dd>true if the service is completely started,
         false if it is still starting asynchronously (in this case, it is the implementer's
         responsibility to set <a href="../../../venice/service/AbstractVeniceService.html#serviceState"><code>AbstractVeniceService.serviceState</code></a> to <a href="../../../venice/service/AbstractVeniceService.ServiceState.html#STARTED"><code>AbstractVeniceService.ServiceState.STARTED</code></a> upon
         completion of the async work).</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="hasCurrentVersionBootstrapping()">
<h3>hasCurrentVersionBootstrapping</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">hasCurrentVersionBootstrapping</span>()</div>
</section>
</li>
<li>
<section class="detail" id="hasCurrentVersionBootstrapping(java.util.Map)">
<h3>hasCurrentVersionBootstrapping</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">hasCurrentVersionBootstrapping</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="StoreIngestionTask.html" title="class in com.linkedin.davinci.kafka.consumer">StoreIngestionTask</a>&gt;&nbsp;ingestionTaskMap)</span></div>
</section>
</li>
<li>
<section class="detail" id="stopInner()">
<h3>stopInner</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">stopInner</span>()</div>
<div class="block">Stops all the Kafka consumption tasks.
 Closes all the Kafka clients.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../../../venice/service/AbstractVeniceService.html#stopInner()">stopInner</a></code>&nbsp;in class&nbsp;<code><a href="../../../venice/service/AbstractVeniceService.html" title="class in com.linkedin.venice.service">AbstractVeniceService</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getPubSubPosition(com.linkedin.davinci.config.VeniceStoreVersionConfig,int,java.util.Map,java.util.Map)">
<h3>getPubSubPosition</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Optional.html" title="class or interface in java.util" class="external-link">Optional</a>&lt;<a href="../../../venice/pubsub/api/PubSubPosition.html" title="interface in com.linkedin.venice.pubsub.api">PubSubPosition</a>&gt;</span>&nbsp;<span class="element-name">getPubSubPosition</span><wbr><span class="parameters">(<a href="../../config/VeniceStoreVersionConfig.html" title="class in com.linkedin.davinci.config">VeniceStoreVersionConfig</a>&nbsp;veniceStore,
 int&nbsp;partitionId,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Integer.html" title="class or interface in java.lang" class="external-link">Integer</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&gt;&nbsp;timestampMap,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Integer.html" title="class or interface in java.lang" class="external-link">Integer</a>,<wbr><a href="../../../venice/pubsub/api/PubSubPosition.html" title="interface in com.linkedin.venice.pubsub.api">PubSubPosition</a>&gt;&nbsp;pubSubPositionMap)</span></div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="StoreIngestionService.html#getPubSubPosition(com.linkedin.davinci.config.VeniceStoreVersionConfig,int,java.util.Map,java.util.Map)">getPubSubPosition</a></code>&nbsp;in interface&nbsp;<code><a href="StoreIngestionService.html" title="interface in com.linkedin.davinci.kafka.consumer">StoreIngestionService</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="startConsumption(com.linkedin.davinci.config.VeniceStoreVersionConfig,int,java.util.Optional)">
<h3>startConsumption</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">startConsumption</span><wbr><span class="parameters">(<a href="../../config/VeniceStoreVersionConfig.html" title="class in com.linkedin.davinci.config">VeniceStoreVersionConfig</a>&nbsp;veniceStore,
 int&nbsp;partitionId,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Optional.html" title="class or interface in java.util" class="external-link">Optional</a>&lt;<a href="../../../venice/pubsub/api/PubSubPosition.html" title="interface in com.linkedin.venice.pubsub.api">PubSubPosition</a>&gt;&nbsp;pubSubPosition)</span></div>
<div class="block">Starts consuming messages from Kafka Partition corresponding to Venice Partition. Subscribes to partition if
 required.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="StoreIngestionService.html#startConsumption(com.linkedin.davinci.config.VeniceStoreVersionConfig,int,java.util.Optional)">startConsumption</a></code>&nbsp;in interface&nbsp;<code><a href="StoreIngestionService.html" title="interface in com.linkedin.davinci.kafka.consumer">StoreIngestionService</a></code></dd>
<dt>Parameters:</dt>
<dd><code>veniceStore</code> - Venice Store for the partition.</dd>
<dd><code>partitionId</code> - Venice partition's id.</dd>
<dd><code>pubSubPosition</code> - </dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="shutdownStoreIngestionTask(java.lang.String)">
<h3>shutdownStoreIngestionTask</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">shutdownStoreIngestionTask</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;topicName)</span></div>
<div class="block">This method closes the specified <a href="StoreIngestionTask.html" title="class in com.linkedin.davinci.kafka.consumer"><code>StoreIngestionTask</code></a> and wait for up to 10 seconds for fully shutdown.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>topicName</code> - Topic name of the ingestion task to be shutdown.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="promoteToLeader(com.linkedin.davinci.config.VeniceStoreVersionConfig,int,com.linkedin.davinci.helix.LeaderFollowerPartitionStateModel.LeaderSessionIdChecker)">
<h3>promoteToLeader</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">promoteToLeader</span><wbr><span class="parameters">(<a href="../../config/VeniceStoreVersionConfig.html" title="class in com.linkedin.davinci.config">VeniceStoreVersionConfig</a>&nbsp;veniceStoreVersionConfig,
 int&nbsp;partitionId,
 <a href="../../helix/LeaderFollowerPartitionStateModel.LeaderSessionIdChecker.html" title="class in com.linkedin.davinci.helix">LeaderFollowerPartitionStateModel.LeaderSessionIdChecker</a>&nbsp;checker)</span></div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="StoreIngestionService.html#promoteToLeader(com.linkedin.davinci.config.VeniceStoreVersionConfig,int,com.linkedin.davinci.helix.LeaderFollowerPartitionStateModel.LeaderSessionIdChecker)">promoteToLeader</a></code>&nbsp;in interface&nbsp;<code><a href="StoreIngestionService.html" title="interface in com.linkedin.davinci.kafka.consumer">StoreIngestionService</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="demoteToStandby(com.linkedin.davinci.config.VeniceStoreVersionConfig,int,com.linkedin.davinci.helix.LeaderFollowerPartitionStateModel.LeaderSessionIdChecker)">
<h3>demoteToStandby</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">demoteToStandby</span><wbr><span class="parameters">(<a href="../../config/VeniceStoreVersionConfig.html" title="class in com.linkedin.davinci.config">VeniceStoreVersionConfig</a>&nbsp;veniceStoreVersionConfig,
 int&nbsp;partitionId,
 <a href="../../helix/LeaderFollowerPartitionStateModel.LeaderSessionIdChecker.html" title="class in com.linkedin.davinci.helix">LeaderFollowerPartitionStateModel.LeaderSessionIdChecker</a>&nbsp;checker)</span></div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="StoreIngestionService.html#demoteToStandby(com.linkedin.davinci.config.VeniceStoreVersionConfig,int,com.linkedin.davinci.helix.LeaderFollowerPartitionStateModel.LeaderSessionIdChecker)">demoteToStandby</a></code>&nbsp;in interface&nbsp;<code><a href="StoreIngestionService.html" title="interface in com.linkedin.davinci.kafka.consumer">StoreIngestionService</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="waitIngestionTaskToCompleteAllPartitionPendingActions(java.lang.String,int,long,int)">
<h3>waitIngestionTaskToCompleteAllPartitionPendingActions</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">waitIngestionTaskToCompleteAllPartitionPendingActions</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;topicName,
 int&nbsp;partition,
 long&nbsp;retryIntervalInMs,
 int&nbsp;numRetries)</span></div>
</section>
</li>
<li>
<section class="detail" id="topicPartitionHasAnyPendingActions(java.lang.String,int)">
<h3>topicPartitionHasAnyPendingActions</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">topicPartitionHasAnyPendingActions</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;topic,
 int&nbsp;partition)</span></div>
</section>
</li>
<li>
<section class="detail" id="isLiveUpdateSuppressionEnabled()">
<h3>isLiveUpdateSuppressionEnabled</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isLiveUpdateSuppressionEnabled</span>()</div>
</section>
</li>
<li>
<section class="detail" id="getVeniceConfigLoader()">
<h3>getVeniceConfigLoader</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../../config/VeniceConfigLoader.html" title="class in com.linkedin.davinci.config">VeniceConfigLoader</a></span>&nbsp;<span class="element-name">getVeniceConfigLoader</span>()</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="StoreIngestionService.html#getVeniceConfigLoader()">getVeniceConfigLoader</a></code>&nbsp;in interface&nbsp;<code><a href="StoreIngestionService.html" title="interface in com.linkedin.davinci.kafka.consumer">StoreIngestionService</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getVeniceWriterFactory()">
<h3>getVeniceWriterFactory</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../../../venice/writer/VeniceWriterFactory.html" title="class in com.linkedin.venice.writer">VeniceWriterFactory</a></span>&nbsp;<span class="element-name">getVeniceWriterFactory</span>()</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="StoreIngestionService.html#getVeniceWriterFactory()">getVeniceWriterFactory</a></code>&nbsp;in interface&nbsp;<code><a href="StoreIngestionService.html" title="interface in com.linkedin.davinci.kafka.consumer">StoreIngestionService</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="updateStatsEmission(java.util.NavigableMap,java.lang.String,int)">
<h3>updateStatsEmission</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">updateStatsEmission</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/NavigableMap.html" title="class or interface in java.util" class="external-link">NavigableMap</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="StoreIngestionTask.html" title="class in com.linkedin.davinci.kafka.consumer">StoreIngestionTask</a>&gt;&nbsp;taskMap,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;storeName,
 int&nbsp;maximumVersion)</span></div>
<div class="block">Find the task that matches both the storeName and maximumVersion number, enable metrics emission for this task and
 update ingestion stats with this task; disable metric emission for all the task that doesn't max version.</div>
</section>
</li>
<li>
<section class="detail" id="updateStatsEmission(java.util.NavigableMap,java.lang.String)">
<h3>updateStatsEmission</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">updateStatsEmission</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/NavigableMap.html" title="class or interface in java.util" class="external-link">NavigableMap</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="StoreIngestionTask.html" title="class in com.linkedin.davinci.kafka.consumer">StoreIngestionTask</a>&gt;&nbsp;taskMap,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;storeName)</span></div>
<div class="block">This function will go through all known ingestion task in this server node, find the task that matches the
 storeName and has the largest version number; if the task doesn't enable metric emission, enable it and
 update store ingestion stats.</div>
</section>
</li>
<li>
<section class="detail" id="stopConsumption(com.linkedin.davinci.config.VeniceStoreVersionConfig,int)">
<h3>stopConsumption</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CompletableFuture.html" title="class or interface in java.util.concurrent" class="external-link">CompletableFuture</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Void.html" title="class or interface in java.lang" class="external-link">Void</a>&gt;</span>&nbsp;<span class="element-name">stopConsumption</span><wbr><span class="parameters">(<a href="../../config/VeniceStoreVersionConfig.html" title="class in com.linkedin.davinci.config">VeniceStoreVersionConfig</a>&nbsp;veniceStore,
 int&nbsp;partitionId)</span></div>
<div class="block">Stops consuming messages from Kafka Partition corresponding to Venice Partition.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="StoreIngestionService.html#stopConsumption(com.linkedin.davinci.config.VeniceStoreVersionConfig,int)">stopConsumption</a></code>&nbsp;in interface&nbsp;<code><a href="StoreIngestionService.html" title="interface in com.linkedin.davinci.kafka.consumer">StoreIngestionService</a></code></dd>
<dt>Parameters:</dt>
<dd><code>veniceStore</code> - Venice Store for the partition.</dd>
<dd><code>partitionId</code> - Venice partition's id.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="stopConsumptionAndWait(com.linkedin.davinci.config.VeniceStoreVersionConfig,int,int,int,boolean)">
<h3>stopConsumptionAndWait</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">stopConsumptionAndWait</span><wbr><span class="parameters">(<a href="../../config/VeniceStoreVersionConfig.html" title="class in com.linkedin.davinci.config">VeniceStoreVersionConfig</a>&nbsp;veniceStore,
 int&nbsp;partitionId,
 int&nbsp;sleepSeconds,
 int&nbsp;numRetries,
 boolean&nbsp;whetherToResetOffset)</span></div>
<div class="block">Stops consuming messages from Kafka Partition corresponding to Venice Partition and wait up to
 (sleepSeconds * numRetires) to make sure partition consumption is stopped.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="StoreIngestionService.html#stopConsumptionAndWait(com.linkedin.davinci.config.VeniceStoreVersionConfig,int,int,int,boolean)">stopConsumptionAndWait</a></code>&nbsp;in interface&nbsp;<code><a href="StoreIngestionService.html" title="interface in com.linkedin.davinci.kafka.consumer">StoreIngestionService</a></code></dd>
<dt>Parameters:</dt>
<dd><code>veniceStore</code> - Venice Store for the partition.</dd>
<dd><code>partitionId</code> - Venice partition's id.</dd>
<dd><code>sleepSeconds</code> - </dd>
<dd><code>numRetries</code> - </dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="dropStoragePartitionGracefully(com.linkedin.davinci.config.VeniceStoreVersionConfig,int)">
<h3>dropStoragePartitionGracefully</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CompletableFuture.html" title="class or interface in java.util.concurrent" class="external-link">CompletableFuture</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Void.html" title="class or interface in java.lang" class="external-link">Void</a>&gt;</span>&nbsp;<span class="element-name">dropStoragePartitionGracefully</span><wbr><span class="parameters">(<a href="../../config/VeniceStoreVersionConfig.html" title="class in com.linkedin.davinci.config">VeniceStoreVersionConfig</a>&nbsp;veniceStore,
 int&nbsp;partitionId)</span></div>
<div class="block">Drops the corresponding Venice Partition gracefully.
 This should only be called after <a href="#stopConsumptionAndWait(com.linkedin.davinci.config.VeniceStoreVersionConfig,int,int,int,boolean)"><code>stopConsumptionAndWait(com.linkedin.davinci.config.VeniceStoreVersionConfig, int, int, int, boolean)</code></a> has been called</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>veniceStore</code> - Venice Store for the partition.</dd>
<dd><code>partitionId</code> - Venice partition's id.</dd>
<dt>Returns:</dt>
<dd>a future for the drop partition action.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="killConsumptionTask(java.lang.String)">
<h3>killConsumptionTask</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">killConsumptionTask</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;topicName)</span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="StoreIngestionService.html#killConsumptionTask(java.lang.String)">StoreIngestionService</a></code></span></div>
<div class="block">Kill all of running consumptions of given store.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="StoreIngestionService.html#killConsumptionTask(java.lang.String)">killConsumptionTask</a></code>&nbsp;in interface&nbsp;<code><a href="StoreIngestionService.html" title="interface in com.linkedin.davinci.kafka.consumer">StoreIngestionService</a></code></dd>
<dt>Parameters:</dt>
<dd><code>topicName</code> - Venice topic (store and version number) for the corresponding consumer task that needs to be killed.
                  No action is taken for invocations of killConsumptionTask on topics that are not in the map. This
                  includes logging.</dd>
<dt>Returns:</dt>
<dd>true if a kill is needed and called, otherwise false</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="addIngestionNotifier(com.linkedin.davinci.notifier.VeniceNotifier)">
<h3>addIngestionNotifier</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">addIngestionNotifier</span><wbr><span class="parameters">(<a href="../../notifier/VeniceNotifier.html" title="interface in com.linkedin.davinci.notifier">VeniceNotifier</a>&nbsp;notifier)</span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="StoreIngestionService.html#addIngestionNotifier(com.linkedin.davinci.notifier.VeniceNotifier)">StoreIngestionService</a></code></span></div>
<div class="block">Adds Notifier to get Notifications for get various status of the consumption
 tasks like start, completed, progress and error states.

 Multiple Notifiers can be added for the same consumption tasks and all of them will
 be notified in order.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="StoreIngestionService.html#addIngestionNotifier(com.linkedin.davinci.notifier.VeniceNotifier)">addIngestionNotifier</a></code>&nbsp;in interface&nbsp;<code><a href="StoreIngestionService.html" title="interface in com.linkedin.davinci.kafka.consumer">StoreIngestionService</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="replaceAndAddTestNotifier(com.linkedin.davinci.notifier.VeniceNotifier)">
<h3>replaceAndAddTestNotifier</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">replaceAndAddTestNotifier</span><wbr><span class="parameters">(<a href="../../notifier/VeniceNotifier.html" title="interface in com.linkedin.davinci.notifier">VeniceNotifier</a>&nbsp;notifier)</span></div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="StoreIngestionService.html#replaceAndAddTestNotifier(com.linkedin.davinci.notifier.VeniceNotifier)">replaceAndAddTestNotifier</a></code>&nbsp;in interface&nbsp;<code><a href="StoreIngestionService.html" title="interface in com.linkedin.davinci.kafka.consumer">StoreIngestionService</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="containsRunningConsumption(com.linkedin.davinci.config.VeniceStoreVersionConfig)">
<h3>containsRunningConsumption</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">containsRunningConsumption</span><wbr><span class="parameters">(<a href="../../config/VeniceStoreVersionConfig.html" title="class in com.linkedin.davinci.config">VeniceStoreVersionConfig</a>&nbsp;veniceStore)</span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="StoreIngestionService.html#containsRunningConsumption(com.linkedin.davinci.config.VeniceStoreVersionConfig)">StoreIngestionService</a></code></span></div>
<div class="block">Check whether there is a running consumption task for given store.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="StoreIngestionService.html#containsRunningConsumption(com.linkedin.davinci.config.VeniceStoreVersionConfig)">containsRunningConsumption</a></code>&nbsp;in interface&nbsp;<code><a href="StoreIngestionService.html" title="interface in com.linkedin.davinci.kafka.consumer">StoreIngestionService</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="containsRunningConsumption(java.lang.String)">
<h3>containsRunningConsumption</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">containsRunningConsumption</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;topic)</span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="StoreIngestionService.html#containsRunningConsumption(java.lang.String)">StoreIngestionService</a></code></span></div>
<div class="block">Check whether there is a running consumption task for given store version topic.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="StoreIngestionService.html#containsRunningConsumption(java.lang.String)">containsRunningConsumption</a></code>&nbsp;in interface&nbsp;<code><a href="StoreIngestionService.html" title="interface in com.linkedin.davinci.kafka.consumer">StoreIngestionService</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isPartitionConsuming(java.lang.String,int)">
<h3>isPartitionConsuming</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isPartitionConsuming</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;topic,
 int&nbsp;partitionId)</span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="StoreIngestionService.html#isPartitionConsuming(java.lang.String,int)">StoreIngestionService</a></code></span></div>
<div class="block">Check whether the specified partition is still being consumed</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="StoreIngestionService.html#isPartitionConsuming(java.lang.String,int)">isPartitionConsuming</a></code>&nbsp;in interface&nbsp;<code><a href="StoreIngestionService.html" title="interface in com.linkedin.davinci.kafka.consumer">StoreIngestionService</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getIngestingTopicsWithVersionStatusNotOnline()">
<h3>getIngestingTopicsWithVersionStatusNotOnline</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Set.html" title="class or interface in java.util" class="external-link">Set</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</span>&nbsp;<span class="element-name">getIngestingTopicsWithVersionStatusNotOnline</span>()</div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="StoreIngestionService.html#getIngestingTopicsWithVersionStatusNotOnline()">StoreIngestionService</a></code></span></div>
<div class="block">Get topic names that are currently maintained by the ingestion service with corresponding version status not in an
 online state. Topics with invalid store or version number are also included in the returned list.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="StoreIngestionService.html#getIngestingTopicsWithVersionStatusNotOnline()">getIngestingTopicsWithVersionStatusNotOnline</a></code>&nbsp;in interface&nbsp;<code><a href="StoreIngestionService.html" title="interface in com.linkedin.davinci.kafka.consumer">StoreIngestionService</a></code></dd>
<dt>Returns:</dt>
<dd>a <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Set.html" title="class or interface in java.util" class="external-link"><code>Set</code></a> of topic names.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="recordIngestionFailure(java.lang.String)">
<h3>recordIngestionFailure</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">recordIngestionFailure</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;storeName)</span></div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="StoreIngestionService.html#recordIngestionFailure(java.lang.String)">recordIngestionFailure</a></code>&nbsp;in interface&nbsp;<code><a href="StoreIngestionService.html" title="interface in com.linkedin.davinci.kafka.consumer">StoreIngestionService</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getAggVersionedIngestionStats()">
<h3>getAggVersionedIngestionStats</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../../stats/AggVersionedIngestionStats.html" title="class in com.linkedin.davinci.stats">AggVersionedIngestionStats</a></span>&nbsp;<span class="element-name">getAggVersionedIngestionStats</span>()</div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="StoreIngestionService.html#getAggVersionedIngestionStats()">StoreIngestionService</a></code></span></div>
<div class="block">Get AggVersionedStorageIngestionStats</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="StoreIngestionService.html#getAggVersionedIngestionStats()">getAggVersionedIngestionStats</a></code>&nbsp;in interface&nbsp;<code><a href="StoreIngestionService.html" title="interface in com.linkedin.davinci.kafka.consumer">StoreIngestionService</a></code></dd>
<dt>Returns:</dt>
<dd>an instance of <a href="../../stats/AggVersionedIngestionStats.html" title="class in com.linkedin.davinci.stats"><code>AggVersionedIngestionStats</code></a></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getStoreVersionCompressionDictionary(java.lang.String)">
<h3>getStoreVersionCompressionDictionary</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/ByteBuffer.html" title="class or interface in java.nio" class="external-link">ByteBuffer</a></span>&nbsp;<span class="element-name">getStoreVersionCompressionDictionary</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;topicName)</span></div>
</section>
</li>
<li>
<section class="detail" id="getStoreIngestionTask(java.lang.String)">
<h3>getStoreIngestionTask</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="StoreIngestionTask.html" title="class in com.linkedin.davinci.kafka.consumer">StoreIngestionTask</a></span>&nbsp;<span class="element-name">getStoreIngestionTask</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;topicName)</span></div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="StoreIngestionService.html#getStoreIngestionTask(java.lang.String)">getStoreIngestionTask</a></code>&nbsp;in interface&nbsp;<code><a href="StoreIngestionService.html" title="interface in com.linkedin.davinci.kafka.consumer">StoreIngestionService</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isDaVinciClient()">
<h3>isDaVinciClient</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isDaVinciClient</span>()</div>
</section>
</li>
<li>
<section class="detail" id="getConsumptionSnapshots(java.lang.String,com.linkedin.venice.utils.ComplementSet)">
<h3>getConsumptionSnapshots</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../../listener/response/AdminResponse.html" title="class in com.linkedin.davinci.listener.response">AdminResponse</a></span>&nbsp;<span class="element-name">getConsumptionSnapshots</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;topicName,
 <a href="../../../venice/utils/ComplementSet.html" title="class in com.linkedin.venice.utils">ComplementSet</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Integer.html" title="class or interface in java.lang" class="external-link">Integer</a>&gt;&nbsp;partitions)</span></div>
</section>
</li>
<li>
<section class="detail" id="getTopicPartitionIngestionContext(java.lang.String,java.lang.String,int)">
<h3>getTopicPartitionIngestionContext</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../../listener/response/ReplicaIngestionResponse.html" title="class in com.linkedin.davinci.listener.response">ReplicaIngestionResponse</a></span>&nbsp;<span class="element-name">getTopicPartitionIngestionContext</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;versionTopic,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;topicName,
 int&nbsp;partitionId)</span></div>
</section>
</li>
<li>
<section class="detail" id="updatePartitionOffsetRecords(java.lang.String,int,java.nio.ByteBuffer)">
<h3>updatePartitionOffsetRecords</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">updatePartitionOffsetRecords</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;topicName,
 int&nbsp;partition,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/ByteBuffer.html" title="class or interface in java.nio" class="external-link">ByteBuffer</a>&nbsp;offsetRecordByteBuffer)</span></div>
<div class="block">This method updates all sub-partitions' latest offset records fetched from isolated ingestion process
 in main process, so main process's in-memory storage metadata service could be aware of the latest updates and will
 not re-start the ingestion from scratch.</div>
</section>
</li>
<li>
<section class="detail" id="getPartitionOffsetRecords(java.lang.String,int)">
<h3>getPartitionOffsetRecords</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/ByteBuffer.html" title="class or interface in java.nio" class="external-link">ByteBuffer</a></span>&nbsp;<span class="element-name">getPartitionOffsetRecords</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;topicName,
 int&nbsp;partition)</span></div>
<div class="block">This method should only be called when the forked ingestion process is handing over ingestion task to main process.
 It collects the user partition's latest OffsetRecords from partition consumption states (PCS).
 In theory, PCS should be available in this situation as we haven't unsubscribed from topic. If it is not available,
 we will throw exception as this is not as expected.</div>
</section>
</li>
<li>
<section class="detail" id="syncTopicPartitionOffset(java.lang.String,int)">
<h3>syncTopicPartitionOffset</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">syncTopicPartitionOffset</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;topicName,
 int&nbsp;partition)</span></div>
<div class="block">Updates offset metadata and sync to storage for specified topic partition.
 This method is invoked only when isolated ingestion process is reporting topic partition completion to make sure
 ingestion process is persisted.</div>
</section>
</li>
<li>
<section class="detail" id="getMetadataRepo()">
<h3>getMetadataRepo</h3>
<div class="member-signature"><span class="modifiers">public final</span>&nbsp;<span class="return-type"><a href="../../../venice/meta/ReadOnlyStoreRepository.html" title="interface in com.linkedin.venice.meta">ReadOnlyStoreRepository</a></span>&nbsp;<span class="element-name">getMetadataRepo</span>()</div>
</section>
</li>
<li>
<section class="detail" id="getPubSubContext()">
<h3>getPubSubContext</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../../../venice/pubsub/PubSubContext.html" title="class in com.linkedin.venice.pubsub">PubSubContext</a></span>&nbsp;<span class="element-name">getPubSubContext</span>()</div>
</section>
</li>
<li>
<section class="detail" id="getKafkaValueSerializer()">
<h3>getKafkaValueSerializer</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../../../venice/serialization/avro/KafkaValueSerializer.html" title="class in com.linkedin.venice.serialization.avro">KafkaValueSerializer</a></span>&nbsp;<span class="element-name">getKafkaValueSerializer</span>()</div>
</section>
</li>
<li>
<section class="detail" id="getParticipantStoreConsumptionTask()">
<h3>getParticipantStoreConsumptionTask</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="ParticipantStoreConsumptionTask.html" title="class in com.linkedin.davinci.kafka.consumer">ParticipantStoreConsumptionTask</a></span>&nbsp;<span class="element-name">getParticipantStoreConsumptionTask</span>()</div>
</section>
</li>
<li>
<section class="detail" id="getTopicNameToIngestionTaskMap()">
<h3>getTopicNameToIngestionTaskMap</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="StoreIngestionTask.html" title="class in com.linkedin.davinci.kafka.consumer">StoreIngestionTask</a>&gt;</span>&nbsp;<span class="element-name">getTopicNameToIngestionTaskMap</span>()</div>
</section>
</li>
<li>
<section class="detail" id="registerRecordTransformerConfig(java.lang.String,com.linkedin.davinci.client.DaVinciRecordTransformerConfig)">
<h3>registerRecordTransformerConfig</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">registerRecordTransformerConfig</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;storeName,
 <a href="../../client/DaVinciRecordTransformerConfig.html" title="class in com.linkedin.davinci.client">DaVinciRecordTransformerConfig</a>&nbsp;recordTransformerConfig)</span></div>
</section>
</li>
<li>
<section class="detail" id="getInternalRecordTransformerConfig(java.lang.String)">
<h3>getInternalRecordTransformerConfig</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../../client/InternalDaVinciRecordTransformerConfig.html" title="class in com.linkedin.davinci.client">InternalDaVinciRecordTransformerConfig</a></span>&nbsp;<span class="element-name">getInternalRecordTransformerConfig</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;storeName)</span></div>
</section>
</li>
<li>
<section class="detail" id="attemptToPrintIngestionInfoFor(java.lang.String,java.lang.Integer,java.lang.Integer,java.lang.String)">
<h3>attemptToPrintIngestionInfoFor</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">attemptToPrintIngestionInfoFor</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;storeName,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Integer.html" title="class or interface in java.lang" class="external-link">Integer</a>&nbsp;version,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Integer.html" title="class or interface in java.lang" class="external-link">Integer</a>&nbsp;partition,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;regionName)</span></div>
</section>
</li>
<li>
<section class="detail" id="maybeAddResubscribeRequest(java.lang.String,int,int)">
<h3>maybeAddResubscribeRequest</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">maybeAddResubscribeRequest</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;storeName,
 int&nbsp;version,
 int&nbsp;partition)</span></div>
</section>
</li>
<li>
<section class="detail" id="getHostLevelIngestionStats()">
<h3>getHostLevelIngestionStats</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../../stats/AggHostLevelIngestionStats.html" title="class in com.linkedin.davinci.stats">AggHostLevelIngestionStats</a></span>&nbsp;<span class="element-name">getHostLevelIngestionStats</span>()</div>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
</body>
</html>
